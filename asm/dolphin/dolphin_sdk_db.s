.include "macros.inc"

.section .text

.global DBInit
DBInit:
/* 803C3430 003C0230  3C 80 80 00 */	lis r4, 0x80000040@ha
/* 803C3434 003C0234  38 04 00 40 */	addi r0, r4, 0x80000040@l
/* 803C3438 003C0238  3C 60 80 3C */	lis r3, lbl_803C34BC@ha
/* 803C343C 003C023C  90 0D 0C 38 */	stw r0, lbl_805DDD18@sda21(r13)
/* 803C3440 003C0240  38 63 34 BC */	addi r3, r3, lbl_803C34BC@l
/* 803C3444 003C0244  3C 03 80 00 */	addis r0, r3, 0x8000
/* 803C3448 003C0248  90 04 00 48 */	stw r0, 0x48(r4)
/* 803C344C 003C024C  38 00 00 01 */	li r0, 1
/* 803C3450 003C0250  90 0D 0C 3C */	stw r0, lbl_805DDD1C@sda21(r13)
/* 803C3454 003C0254  4E 80 00 20 */	blr 

.global DBIsDebuggerPresent
DBIsDebuggerPresent:
/* 803C3458 003C0258  80 6D 0C 38 */	lwz r3, lbl_805DDD18@sda21(r13)
/* 803C345C 003C025C  28 03 00 00 */	cmplwi r3, 0
/* 803C3460 003C0260  40 82 00 0C */	bne lbl_803C346C
/* 803C3464 003C0264  38 60 00 00 */	li r3, 0
/* 803C3468 003C0268  4E 80 00 20 */	blr 
lbl_803C346C:
/* 803C346C 003C026C  80 63 00 00 */	lwz r3, 0(r3)
/* 803C3470 003C0270  4E 80 00 20 */	blr 
lbl_803C3474:
/* 803C3474 003C0274  7C 08 02 A6 */	mflr r0
/* 803C3478 003C0278  3C 60 80 50 */	lis r3, lbl_804F92F0@ha
/* 803C347C 003C027C  90 01 00 04 */	stw r0, 4(r1)
/* 803C3480 003C0280  38 63 92 F0 */	addi r3, r3, lbl_804F92F0@l
/* 803C3484 003C0284  4C C6 31 82 */	crclr 6
/* 803C3488 003C0288  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 803C348C 003C028C  93 E1 00 14 */	stw r31, 0x14(r1)
/* 803C3490 003C0290  80 80 00 C0 */	lwz r4, 0xc0(0)
/* 803C3494 003C0294  3F E4 80 00 */	addis r31, r4, 0x8000
/* 803C3498 003C0298  48 01 18 51 */	bl _OSReport
/* 803C349C 003C029C  7F E3 FB 78 */	mr r3, r31
/* 803C34A0 003C02A0  48 01 13 A9 */	bl OSDumpContext
/* 803C34A4 003C02A4  4B FF FE B9 */	bl PPCHalt
/* 803C34A8 003C02A8  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 803C34AC 003C02AC  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 803C34B0 003C02B0  38 21 00 18 */	addi r1, r1, 0x18
/* 803C34B4 003C02B4  7C 08 03 A6 */	mtlr r0
/* 803C34B8 003C02B8  4E 80 00 20 */	blr 
lbl_803C34BC:
/* 803C34BC 003C02BC  7C 60 00 A6 */	mfmsr r3
/* 803C34C0 003C02C0  60 63 00 30 */	ori r3, r3, 0x30
/* 803C34C4 003C02C4  7C 60 01 24 */	mtmsr r3
/* 803C34C8 003C02C8  4B FF FF AC */	b lbl_803C3474

.global func_803C34CC
func_803C34CC:
/* 803C34CC 003C02CC  80 8D 0C 38 */	lwz r4, lbl_805DDD18@sda21(r13)
/* 803C34D0 003C02D0  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 803C34D4 003C02D4  38 60 00 01 */	li r3, 1
/* 803C34D8 003C02D8  80 84 00 04 */	lwz r4, 4(r4)
/* 803C34DC 003C02DC  7C 60 00 30 */	slw r0, r3, r0
/* 803C34E0 003C02E0  7C 83 00 38 */	and r3, r4, r0
/* 803C34E4 003C02E4  4E 80 00 20 */	blr 

.global DBPrintf
DBPrintf:
/* 803C34E8 003C02E8  94 21 FF 90 */	stwu r1, -0x70(r1)
/* 803C34EC 003C02EC  40 86 00 24 */	bne cr1, lbl_803C3510
/* 803C34F0 003C02F0  D8 21 00 28 */	stfd f1, 0x28(r1)
/* 803C34F4 003C02F4  D8 41 00 30 */	stfd f2, 0x30(r1)
/* 803C34F8 003C02F8  D8 61 00 38 */	stfd f3, 0x38(r1)
/* 803C34FC 003C02FC  D8 81 00 40 */	stfd f4, 0x40(r1)
/* 803C3500 003C0300  D8 A1 00 48 */	stfd f5, 0x48(r1)
/* 803C3504 003C0304  D8 C1 00 50 */	stfd f6, 0x50(r1)
/* 803C3508 003C0308  D8 E1 00 58 */	stfd f7, 0x58(r1)
/* 803C350C 003C030C  D9 01 00 60 */	stfd f8, 0x60(r1)
lbl_803C3510:
/* 803C3510 003C0310  90 61 00 08 */	stw r3, 8(r1)
/* 803C3514 003C0314  90 81 00 0C */	stw r4, 0xc(r1)
/* 803C3518 003C0318  90 A1 00 10 */	stw r5, 0x10(r1)
/* 803C351C 003C031C  90 C1 00 14 */	stw r6, 0x14(r1)
/* 803C3520 003C0320  90 E1 00 18 */	stw r7, 0x18(r1)
/* 803C3524 003C0324  91 01 00 1C */	stw r8, 0x1c(r1)
/* 803C3528 003C0328  91 21 00 20 */	stw r9, 0x20(r1)
/* 803C352C 003C032C  91 41 00 24 */	stw r10, 0x24(r1)
/* 803C3530 003C0330  38 21 00 70 */	addi r1, r1, 0x70
/* 803C3534 003C0334  4E 80 00 20 */	blr 
