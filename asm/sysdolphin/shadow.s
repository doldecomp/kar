.include "macros.inc"

.section .text

.global HSD_ShadowGetAllocData
HSD_ShadowGetAllocData:
/* 8041CF1C 00419D1C  3C 60 80 59 */	lis r3, shadow_alloc_data@ha
/* 8041CF20 00419D20  38 63 BE 98 */	addi r3, r3, shadow_alloc_data@l
/* 8041CF24 00419D24  4E 80 00 20 */	blr 

.global HSD_ShadowInitAllocData
HSD_ShadowInitAllocData:
/* 8041CF28 00419D28  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8041CF2C 00419D2C  7C 08 02 A6 */	mflr r0
/* 8041CF30 00419D30  3C 60 80 59 */	lis r3, shadow_alloc_data@ha
/* 8041CF34 00419D34  38 80 00 28 */	li r4, 0x28
/* 8041CF38 00419D38  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041CF3C 00419D3C  38 63 BE 98 */	addi r3, r3, shadow_alloc_data@l
/* 8041CF40 00419D40  38 A0 00 04 */	li r5, 4
/* 8041CF44 00419D44  4B FF B3 19 */	bl HSD_ObjAllocInit
/* 8041CF48 00419D48  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8041CF4C 00419D4C  7C 08 03 A6 */	mtlr r0
/* 8041CF50 00419D50  38 21 00 10 */	addi r1, r1, 0x10
/* 8041CF54 00419D54  4E 80 00 20 */	blr 

.global HSD_ShadowAlloc
HSD_ShadowAlloc:
/* 8041CF58 00419D58  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8041CF5C 00419D5C  7C 08 02 A6 */	mflr r0
/* 8041CF60 00419D60  3C 60 80 59 */	lis r3, shadow_alloc_data@ha
/* 8041CF64 00419D64  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041CF68 00419D68  38 63 BE 98 */	addi r3, r3, shadow_alloc_data@l
/* 8041CF6C 00419D6C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8041CF70 00419D70  93 C1 00 08 */	stw r30, 8(r1)
/* 8041CF74 00419D74  4B FF B1 71 */	bl HSD_ObjAlloc
/* 8041CF78 00419D78  38 80 00 00 */	li r4, 0
/* 8041CF7C 00419D7C  7C 7E 1B 78 */	mr r30, r3
/* 8041CF80 00419D80  38 A0 00 28 */	li r5, 0x28
/* 8041CF84 00419D84  4B BE 61 7D */	bl memset
/* 8041CF88 00419D88  4B FE 5F DD */	bl HSD_CObjAlloc
/* 8041CF8C 00419D8C  90 7E 00 04 */	stw r3, 4(r30)
/* 8041CF90 00419D90  4B FD A9 05 */	bl HSD_TObjAlloc
/* 8041CF94 00419D94  7C 7F 1B 78 */	mr r31, r3
/* 8041CF98 00419D98  38 80 00 00 */	li r4, 0
/* 8041CF9C 00419D9C  90 83 00 10 */	stw r4, 0x10(r3)
/* 8041CFA0 00419DA0  3C 60 00 54 */	lis r3, 0x00540103@ha
/* 8041CFA4 00419DA4  38 03 01 03 */	addi r0, r3, 0x00540103@l
/* 8041CFA8 00419DA8  90 9F 00 40 */	stw r4, 0x40(r31)
/* 8041CFAC 00419DAC  90 9F 00 44 */	stw r4, 0x44(r31)
/* 8041CFB0 00419DB0  90 1F 00 4C */	stw r0, 0x4c(r31)
/* 8041CFB4 00419DB4  4B FD AA 4D */	bl HSD_ImageDescAlloc
/* 8041CFB8 00419DB8  90 7F 00 58 */	stw r3, 0x58(r31)
/* 8041CFBC 00419DBC  38 80 00 00 */	li r4, 0
/* 8041CFC0 00419DC0  C0 22 F6 C0 */	lfs f1, lbl_805E5DC0@sda21(r2)
/* 8041CFC4 00419DC4  38 00 01 00 */	li r0, 0x100
/* 8041CFC8 00419DC8  93 FE 00 08 */	stw r31, 8(r30)
/* 8041CFCC 00419DCC  C0 A2 F6 B8 */	lfs f5, lbl_805E5DB8@sda21(r2)
/* 8041CFD0 00419DD0  FC 60 08 90 */	fmr f3, f1
/* 8041CFD4 00419DD4  C0 02 F6 BC */	lfs f0, lbl_805E5DBC@sda21(r2)
/* 8041CFD8 00419DD8  D0 BE 00 0C */	stfs f5, 0xc(r30)
/* 8041CFDC 00419DDC  C0 42 F6 C4 */	lfs f2, lbl_805E5DC4@sda21(r2)
/* 8041CFE0 00419DE0  D0 1E 00 10 */	stfs f0, 0x10(r30)
/* 8041CFE4 00419DE4  FC 80 10 90 */	fmr f4, f2
/* 8041CFE8 00419DE8  D0 BE 00 14 */	stfs f5, 0x14(r30)
/* 8041CFEC 00419DEC  D0 BE 00 18 */	stfs f5, 0x18(r30)
/* 8041CFF0 00419DF0  98 9E 00 20 */	stb r4, 0x20(r30)
/* 8041CFF4 00419DF4  80 7E 00 08 */	lwz r3, 8(r30)
/* 8041CFF8 00419DF8  80 63 00 58 */	lwz r3, 0x58(r3)
/* 8041CFFC 00419DFC  90 83 00 08 */	stw r4, 8(r3)
/* 8041D000 00419E00  80 7E 00 08 */	lwz r3, 8(r30)
/* 8041D004 00419E04  80 63 00 58 */	lwz r3, 0x58(r3)
/* 8041D008 00419E08  B0 03 00 04 */	sth r0, 4(r3)
/* 8041D00C 00419E0C  80 7E 00 08 */	lwz r3, 8(r30)
/* 8041D010 00419E10  80 63 00 58 */	lwz r3, 0x58(r3)
/* 8041D014 00419E14  B0 03 00 06 */	sth r0, 6(r3)
/* 8041D018 00419E18  80 7E 00 04 */	lwz r3, 4(r30)
/* 8041D01C 00419E1C  4B FE 5E 85 */	bl HSD_CObjSetViewportfx4
/* 8041D020 00419E20  80 7E 00 04 */	lwz r3, 4(r30)
/* 8041D024 00419E24  38 80 00 00 */	li r4, 0
/* 8041D028 00419E28  38 A0 01 00 */	li r5, 0x100
/* 8041D02C 00419E2C  38 C0 00 00 */	li r6, 0
/* 8041D030 00419E30  38 E0 01 00 */	li r7, 0x100
/* 8041D034 00419E34  4B FE 5D 09 */	bl HSD_CObjSetScissorx4
/* 8041D038 00419E38  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8041D03C 00419E3C  7F C3 F3 78 */	mr r3, r30
/* 8041D040 00419E40  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8041D044 00419E44  83 C1 00 08 */	lwz r30, 8(r1)
/* 8041D048 00419E48  7C 08 03 A6 */	mtlr r0
/* 8041D04C 00419E4C  38 21 00 10 */	addi r1, r1, 0x10
/* 8041D050 00419E50  4E 80 00 20 */	blr 

.global HSD_ShadowFree
HSD_ShadowFree:
/* 8041D054 00419E54  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8041D058 00419E58  7C 08 02 A6 */	mflr r0
/* 8041D05C 00419E5C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041D060 00419E60  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8041D064 00419E64  7C 7F 1B 79 */	or. r31, r3, r3
/* 8041D068 00419E68  93 C1 00 08 */	stw r30, 8(r1)
/* 8041D06C 00419E6C  41 82 00 D8 */	beq lbl_8041D144
/* 8041D070 00419E70  83 DF 00 04 */	lwz r30, 4(r31)
/* 8041D074 00419E74  28 1E 00 00 */	cmplwi r30, 0
/* 8041D078 00419E78  41 82 00 70 */	beq lbl_8041D0E8
/* 8041D07C 00419E7C  3C 60 00 01 */	lis r3, 0x0000FFFF@ha
/* 8041D080 00419E80  A0 9E 00 04 */	lhz r4, 4(r30)
/* 8041D084 00419E84  38 03 FF FF */	addi r0, r3, 0x0000FFFF@l
/* 8041D088 00419E88  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 8041D08C 00419E8C  7C 04 00 50 */	subf r0, r4, r0
/* 8041D090 00419E90  7C 00 00 34 */	cntlzw r0, r0
/* 8041D094 00419E94  54 00 D9 7F */	rlwinm. r0, r0, 0x1b, 5, 0x1f
/* 8041D098 00419E98  41 82 00 08 */	beq lbl_8041D0A0
/* 8041D09C 00419E9C  48 00 00 14 */	b lbl_8041D0B0
lbl_8041D0A0:
/* 8041D0A0 00419EA0  38 64 FF FF */	addi r3, r4, -1
/* 8041D0A4 00419EA4  7C 80 00 34 */	cntlzw r0, r4
/* 8041D0A8 00419EA8  B0 7E 00 04 */	sth r3, 4(r30)
/* 8041D0AC 00419EAC  54 00 D9 7E */	srwi r0, r0, 5
lbl_8041D0B0:
/* 8041D0B0 00419EB0  2C 00 00 00 */	cmpwi r0, 0
/* 8041D0B4 00419EB4  41 82 00 34 */	beq lbl_8041D0E8
/* 8041D0B8 00419EB8  28 1E 00 00 */	cmplwi r30, 0
/* 8041D0BC 00419EBC  41 82 00 2C */	beq lbl_8041D0E8
/* 8041D0C0 00419EC0  80 9E 00 00 */	lwz r4, 0(r30)
/* 8041D0C4 00419EC4  7F C3 F3 78 */	mr r3, r30
/* 8041D0C8 00419EC8  81 84 00 30 */	lwz r12, 0x30(r4)
/* 8041D0CC 00419ECC  7D 89 03 A6 */	mtctr r12
/* 8041D0D0 00419ED0  4E 80 04 21 */	bctrl 
/* 8041D0D4 00419ED4  80 9E 00 00 */	lwz r4, 0(r30)
/* 8041D0D8 00419ED8  7F C3 F3 78 */	mr r3, r30
/* 8041D0DC 00419EDC  81 84 00 34 */	lwz r12, 0x34(r4)
/* 8041D0E0 00419EE0  7D 89 03 A6 */	mtctr r12
/* 8041D0E4 00419EE4  4E 80 04 21 */	bctrl 
lbl_8041D0E8:
/* 8041D0E8 00419EE8  7F E3 FB 78 */	mr r3, r31
/* 8041D0EC 00419EEC  38 80 00 00 */	li r4, 0
/* 8041D0F0 00419EF0  48 00 08 F5 */	bl HSD_ShadowDeleteObject
/* 8041D0F4 00419EF4  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 8041D0F8 00419EF8  2C 00 00 00 */	cmpwi r0, 0
/* 8041D0FC 00419EFC  41 82 00 0C */	beq lbl_8041D108
/* 8041D100 00419F00  80 7F 00 08 */	lwz r3, 8(r31)
/* 8041D104 00419F04  4B FD DE 25 */	bl HSD_MObjDeleteShadowTexture
lbl_8041D108:
/* 8041D108 00419F08  80 7F 00 08 */	lwz r3, 8(r31)
/* 8041D10C 00419F0C  80 63 00 58 */	lwz r3, 0x58(r3)
/* 8041D110 00419F10  80 63 00 00 */	lwz r3, 0(r3)
/* 8041D114 00419F14  28 03 00 00 */	cmplwi r3, 0
/* 8041D118 00419F18  41 82 00 08 */	beq lbl_8041D120
/* 8041D11C 00419F1C  4B FF FD 99 */	bl HSD_Free
lbl_8041D120:
/* 8041D120 00419F20  83 DF 00 08 */	lwz r30, 8(r31)
/* 8041D124 00419F24  80 7E 00 58 */	lwz r3, 0x58(r30)
/* 8041D128 00419F28  4B FD A9 31 */	bl HSD_ImageDescFree
/* 8041D12C 00419F2C  7F C3 F3 78 */	mr r3, r30
/* 8041D130 00419F30  4B FD A7 C1 */	bl HSD_TObjFree
/* 8041D134 00419F34  3C 60 80 59 */	lis r3, shadow_alloc_data@ha
/* 8041D138 00419F38  7F E4 FB 78 */	mr r4, r31
/* 8041D13C 00419F3C  38 63 BE 98 */	addi r3, r3, shadow_alloc_data@l
/* 8041D140 00419F40  4B FF B0 F5 */	bl HSD_ObjFree
lbl_8041D144:
/* 8041D144 00419F44  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8041D148 00419F48  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8041D14C 00419F4C  83 C1 00 08 */	lwz r30, 8(r1)
/* 8041D150 00419F50  7C 08 03 A6 */	mtlr r0
/* 8041D154 00419F54  38 21 00 10 */	addi r1, r1, 0x10
/* 8041D158 00419F58  4E 80 00 20 */	blr 

.global HSD_ShadowInit
HSD_ShadowInit:
/* 8041D15C 00419F5C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8041D160 00419F60  7C 08 02 A6 */	mflr r0
/* 8041D164 00419F64  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041D168 00419F68  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8041D16C 00419F6C  7C 7F 1B 79 */	or. r31, r3, r3
/* 8041D170 00419F70  40 82 00 18 */	bne lbl_8041D188
/* 8041D174 00419F74  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041D178 00419F78  38 80 00 F5 */	li r4, 0xf5
/* 8041D17C 00419F7C  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041D180 00419F80  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041D184 00419F84  48 00 B3 35 */	bl __assert
lbl_8041D188:
/* 8041D188 00419F88  80 BF 00 08 */	lwz r5, 8(r31)
/* 8041D18C 00419F8C  38 60 00 00 */	li r3, 0
/* 8041D190 00419F90  38 80 00 00 */	li r4, 0
/* 8041D194 00419F94  83 E5 00 58 */	lwz r31, 0x58(r5)
/* 8041D198 00419F98  A0 BF 00 04 */	lhz r5, 4(r31)
/* 8041D19C 00419F9C  A0 DF 00 06 */	lhz r6, 6(r31)
/* 8041D1A0 00419FA0  4B FA F4 B5 */	bl GXSetTexCopySrc
/* 8041D1A4 00419FA4  A0 7F 00 04 */	lhz r3, 4(r31)
/* 8041D1A8 00419FA8  38 A0 00 20 */	li r5, 0x20
/* 8041D1AC 00419FAC  A0 9F 00 06 */	lhz r4, 6(r31)
/* 8041D1B0 00419FB0  38 C0 00 00 */	li r6, 0
/* 8041D1B4 00419FB4  4B FA F5 6D */	bl GXSetTexCopyDst
/* 8041D1B8 00419FB8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8041D1BC 00419FBC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8041D1C0 00419FC0  7C 08 03 A6 */	mtlr r0
/* 8041D1C4 00419FC4  38 21 00 10 */	addi r1, r1, 0x10
/* 8041D1C8 00419FC8  4E 80 00 20 */	blr 

.global HSD_ShadowSetSize
HSD_ShadowSetSize:
/* 8041D1CC 00419FCC  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8041D1D0 00419FD0  7C 08 02 A6 */	mflr r0
/* 8041D1D4 00419FD4  90 01 00 34 */	stw r0, 0x34(r1)
/* 8041D1D8 00419FD8  39 61 00 30 */	addi r11, r1, 0x30
/* 8041D1DC 00419FDC  4B F9 09 75 */	bl _savegpr_26
/* 8041D1E0 00419FE0  7C 7D 1B 79 */	or. r29, r3, r3
/* 8041D1E4 00419FE4  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041D1E8 00419FE8  7C 9E 23 78 */	mr r30, r4
/* 8041D1EC 00419FEC  7C BF 2B 78 */	mr r31, r5
/* 8041D1F0 00419FF0  3B 83 45 28 */	addi r28, r3, lbl_80504528@l
/* 8041D1F4 00419FF4  40 82 00 14 */	bne lbl_8041D208
/* 8041D1F8 00419FF8  38 7C 00 00 */	addi r3, r28, 0
/* 8041D1FC 00419FFC  38 80 01 15 */	li r4, 0x115
/* 8041D200 0041A000  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041D204 0041A004  48 00 B2 B5 */	bl __assert
lbl_8041D208:
/* 8041D208 0041A008  57 C0 04 3F */	clrlwi. r0, r30, 0x10
/* 8041D20C 0041A00C  40 82 00 14 */	bne lbl_8041D220
/* 8041D210 0041A010  38 7C 00 00 */	addi r3, r28, 0
/* 8041D214 0041A014  38 BC 00 0C */	addi r5, r28, 0xc
/* 8041D218 0041A018  38 80 01 16 */	li r4, 0x116
/* 8041D21C 0041A01C  48 00 B2 9D */	bl __assert
lbl_8041D220:
/* 8041D220 0041A020  57 E0 04 3F */	clrlwi. r0, r31, 0x10
/* 8041D224 0041A024  40 82 00 14 */	bne lbl_8041D238
/* 8041D228 0041A028  38 7C 00 00 */	addi r3, r28, 0
/* 8041D22C 0041A02C  38 BC 00 18 */	addi r5, r28, 0x18
/* 8041D230 0041A030  38 80 01 17 */	li r4, 0x117
/* 8041D234 0041A034  48 00 B2 85 */	bl __assert
lbl_8041D238:
/* 8041D238 0041A038  80 7D 00 08 */	lwz r3, 8(r29)
/* 8041D23C 0041A03C  83 43 00 58 */	lwz r26, 0x58(r3)
/* 8041D240 0041A040  80 7A 00 00 */	lwz r3, 0(r26)
/* 8041D244 0041A044  28 03 00 00 */	cmplwi r3, 0
/* 8041D248 0041A048  41 82 00 24 */	beq lbl_8041D26C
/* 8041D24C 0041A04C  A0 9A 00 04 */	lhz r4, 4(r26)
/* 8041D250 0041A050  57 C0 04 3E */	clrlwi r0, r30, 0x10
/* 8041D254 0041A054  7C 04 00 40 */	cmplw r4, r0
/* 8041D258 0041A058  40 82 00 14 */	bne lbl_8041D26C
/* 8041D25C 0041A05C  A0 9A 00 06 */	lhz r4, 6(r26)
/* 8041D260 0041A060  57 E0 04 3E */	clrlwi r0, r31, 0x10
/* 8041D264 0041A064  7C 04 00 40 */	cmplw r4, r0
/* 8041D268 0041A068  41 82 00 AC */	beq lbl_8041D314
lbl_8041D26C:
/* 8041D26C 0041A06C  28 03 00 00 */	cmplwi r3, 0
/* 8041D270 0041A070  41 82 00 08 */	beq lbl_8041D278
/* 8041D274 0041A074  4B FF FC 41 */	bl HSD_Free
lbl_8041D278:
/* 8041D278 0041A078  7F C3 F3 78 */	mr r3, r30
/* 8041D27C 0041A07C  7F E4 FB 78 */	mr r4, r31
/* 8041D280 0041A080  38 A0 00 00 */	li r5, 0
/* 8041D284 0041A084  38 C0 00 00 */	li r6, 0
/* 8041D288 0041A088  38 E0 00 00 */	li r7, 0
/* 8041D28C 0041A08C  4B FB 03 25 */	bl GXGetTexBufferSize
/* 8041D290 0041A090  7C 7B 1B 79 */	or. r27, r3, r3
/* 8041D294 0041A094  40 82 00 14 */	bne lbl_8041D2A8
/* 8041D298 0041A098  38 7C 00 00 */	addi r3, r28, 0
/* 8041D29C 0041A09C  38 BC 00 24 */	addi r5, r28, 0x24
/* 8041D2A0 0041A0A0  38 80 01 22 */	li r4, 0x122
/* 8041D2A4 0041A0A4  48 00 B2 15 */	bl __assert
lbl_8041D2A8:
/* 8041D2A8 0041A0A8  7F 63 DB 78 */	mr r3, r27
/* 8041D2AC 0041A0AC  4B FF FC 39 */	bl HSD_Alloc
/* 8041D2B0 0041A0B0  3C 80 43 30 */	lis r4, 0x4330
/* 8041D2B4 0041A0B4  90 7A 00 00 */	stw r3, 0(r26)
/* 8041D2B8 0041A0B8  57 C3 04 3E */	clrlwi r3, r30, 0x10
/* 8041D2BC 0041A0BC  57 E0 04 3E */	clrlwi r0, r31, 0x10
/* 8041D2C0 0041A0C0  B3 DA 00 04 */	sth r30, 4(r26)
/* 8041D2C4 0041A0C4  C0 22 F6 C0 */	lfs f1, lbl_805E5DC0@sda21(r2)
/* 8041D2C8 0041A0C8  B3 FA 00 06 */	sth r31, 6(r26)
/* 8041D2CC 0041A0CC  C8 82 F6 C8 */	lfd f4, lbl_805E5DC8@sda21(r2)
/* 8041D2D0 0041A0D0  FC 60 08 90 */	fmr f3, f1
/* 8041D2D4 0041A0D4  90 61 00 0C */	stw r3, 0xc(r1)
/* 8041D2D8 0041A0D8  80 7D 00 04 */	lwz r3, 4(r29)
/* 8041D2DC 0041A0DC  90 81 00 08 */	stw r4, 8(r1)
/* 8041D2E0 0041A0E0  C8 01 00 08 */	lfd f0, 8(r1)
/* 8041D2E4 0041A0E4  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041D2E8 0041A0E8  EC 40 20 28 */	fsubs f2, f0, f4
/* 8041D2EC 0041A0EC  90 81 00 10 */	stw r4, 0x10(r1)
/* 8041D2F0 0041A0F0  C8 01 00 10 */	lfd f0, 0x10(r1)
/* 8041D2F4 0041A0F4  EC 80 20 28 */	fsubs f4, f0, f4
/* 8041D2F8 0041A0F8  4B FE 5B A9 */	bl HSD_CObjSetViewportfx4
/* 8041D2FC 0041A0FC  80 7D 00 04 */	lwz r3, 4(r29)
/* 8041D300 0041A100  7F C5 F3 78 */	mr r5, r30
/* 8041D304 0041A104  7F E7 FB 78 */	mr r7, r31
/* 8041D308 0041A108  38 80 00 00 */	li r4, 0
/* 8041D30C 0041A10C  38 C0 00 00 */	li r6, 0
/* 8041D310 0041A110  4B FE 5A 2D */	bl HSD_CObjSetScissorx4
lbl_8041D314:
/* 8041D314 0041A114  39 61 00 30 */	addi r11, r1, 0x30
/* 8041D318 0041A118  4B F9 08 85 */	bl _restgpr_26
/* 8041D31C 0041A11C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8041D320 0041A120  7C 08 03 A6 */	mtlr r0
/* 8041D324 0041A124  38 21 00 30 */	addi r1, r1, 0x30
/* 8041D328 0041A128  4E 80 00 20 */	blr 

.global HSD_ShadowStartRender
HSD_ShadowStartRender:
/* 8041D32C 0041A12C  94 21 FF 90 */	stwu r1, -0x70(r1)
/* 8041D330 0041A130  7C 08 02 A6 */	mflr r0
/* 8041D334 0041A134  90 01 00 74 */	stw r0, 0x74(r1)
/* 8041D338 0041A138  39 61 00 70 */	addi r11, r1, 0x70
/* 8041D33C 0041A13C  4B F9 08 15 */	bl _savegpr_26
/* 8041D340 0041A140  7C 7A 1B 79 */	or. r26, r3, r3
/* 8041D344 0041A144  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041D348 0041A148  3B E3 45 28 */	addi r31, r3, lbl_80504528@l
/* 8041D34C 0041A14C  40 82 00 14 */	bne lbl_8041D360
/* 8041D350 0041A150  38 7F 00 00 */	addi r3, r31, 0
/* 8041D354 0041A154  38 80 01 59 */	li r4, 0x159
/* 8041D358 0041A158  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041D35C 0041A15C  48 00 B1 5D */	bl __assert
lbl_8041D360:
/* 8041D360 0041A160  80 1A 00 04 */	lwz r0, 4(r26)
/* 8041D364 0041A164  28 00 00 00 */	cmplwi r0, 0
/* 8041D368 0041A168  40 82 00 14 */	bne lbl_8041D37C
/* 8041D36C 0041A16C  38 7F 00 00 */	addi r3, r31, 0
/* 8041D370 0041A170  38 BF 00 E0 */	addi r5, r31, 0xe0
/* 8041D374 0041A174  38 80 01 5A */	li r4, 0x15a
/* 8041D378 0041A178  48 00 B1 41 */	bl __assert
lbl_8041D37C:
/* 8041D37C 0041A17C  80 1A 00 08 */	lwz r0, 8(r26)
/* 8041D380 0041A180  28 00 00 00 */	cmplwi r0, 0
/* 8041D384 0041A184  40 82 00 14 */	bne lbl_8041D398
/* 8041D388 0041A188  38 7F 00 00 */	addi r3, r31, 0
/* 8041D38C 0041A18C  38 BF 00 F0 */	addi r5, r31, 0xf0
/* 8041D390 0041A190  38 80 01 5B */	li r4, 0x15b
/* 8041D394 0041A194  48 00 B1 25 */	bl __assert
lbl_8041D398:
/* 8041D398 0041A198  80 7A 00 08 */	lwz r3, 8(r26)
/* 8041D39C 0041A19C  80 03 00 58 */	lwz r0, 0x58(r3)
/* 8041D3A0 0041A1A0  28 00 00 00 */	cmplwi r0, 0
/* 8041D3A4 0041A1A4  40 82 00 14 */	bne lbl_8041D3B8
/* 8041D3A8 0041A1A8  38 7F 00 00 */	addi r3, r31, 0
/* 8041D3AC 0041A1AC  38 BF 01 00 */	addi r5, r31, 0x100
/* 8041D3B0 0041A1B0  38 80 01 5C */	li r4, 0x15c
/* 8041D3B4 0041A1B4  48 00 B1 05 */	bl __assert
lbl_8041D3B8:
/* 8041D3B8 0041A1B8  80 1A 00 1C */	lwz r0, 0x1c(r26)
/* 8041D3BC 0041A1BC  80 7A 00 08 */	lwz r3, 8(r26)
/* 8041D3C0 0041A1C0  2C 00 00 00 */	cmpwi r0, 0
/* 8041D3C4 0041A1C4  83 9A 00 04 */	lwz r28, 4(r26)
/* 8041D3C8 0041A1C8  83 63 00 58 */	lwz r27, 0x58(r3)
/* 8041D3CC 0041A1CC  41 82 01 F4 */	beq lbl_8041D5C0
/* 8041D3D0 0041A1D0  4B FD BC 59 */	bl HSD_StateInitTev
/* 8041D3D4 0041A1D4  38 7F 00 60 */	addi r3, r31, 0x60
/* 8041D3D8 0041A1D8  4B FD C0 45 */	bl HSD_SetupTevStageAll
/* 8041D3DC 0041A1DC  4B FD BC 1D */	bl HSD_StateSetNumTexGens
/* 8041D3E0 0041A1E0  38 9F 00 D4 */	addi r4, r31, 0xd4
/* 8041D3E4 0041A1E4  38 60 00 00 */	li r3, 0
/* 8041D3E8 0041A1E8  4B FD AB 99 */	bl HSD_SetupPEMode
/* 8041D3EC 0041A1EC  3B DF 00 30 */	addi r30, r31, 0x30
/* 8041D3F0 0041A1F0  38 00 00 FF */	li r0, 0xff
/* 8041D3F4 0041A1F4  98 1E 00 10 */	stb r0, 0x10(r30)
/* 8041D3F8 0041A1F8  7F C3 F3 78 */	mr r3, r30
/* 8041D3FC 0041A1FC  3B BE 00 12 */	addi r29, r30, 0x12
/* 8041D400 0041A200  98 1E 00 11 */	stb r0, 0x11(r30)
/* 8041D404 0041A204  98 1E 00 12 */	stb r0, 0x12(r30)
/* 8041D408 0041A208  4B FD BB 41 */	bl HSD_SetupChannelAll
/* 8041D40C 0041A20C  C0 22 F6 D0 */	lfs f1, lbl_805E5DD0@sda21(r2)
/* 8041D410 0041A210  38 61 00 08 */	addi r3, r1, 8
/* 8041D414 0041A214  C0 42 F6 C0 */	lfs f2, lbl_805E5DC0@sda21(r2)
/* 8041D418 0041A218  FC 80 08 90 */	fmr f4, f1
/* 8041D41C 0041A21C  C0 A2 F6 D4 */	lfs f5, lbl_805E5DD4@sda21(r2)
/* 8041D420 0041A220  FC 60 10 90 */	fmr f3, f2
/* 8041D424 0041A224  FC C0 08 90 */	fmr f6, f1
/* 8041D428 0041A228  4B FB 4B D9 */	bl C_MTXOrtho
/* 8041D42C 0041A22C  38 61 00 08 */	addi r3, r1, 8
/* 8041D430 0041A230  38 80 00 01 */	li r4, 1
/* 8041D434 0041A234  4B FB 31 35 */	bl func_803D0568
/* 8041D438 0041A238  A0 9B 00 04 */	lhz r4, 4(r27)
/* 8041D43C 0041A23C  3C 60 43 30 */	lis r3, 0x4330
/* 8041D440 0041A240  A0 1B 00 06 */	lhz r0, 6(r27)
/* 8041D444 0041A244  90 81 00 4C */	stw r4, 0x4c(r1)
/* 8041D448 0041A248  C0 22 F6 C0 */	lfs f1, lbl_805E5DC0@sda21(r2)
/* 8041D44C 0041A24C  90 61 00 48 */	stw r3, 0x48(r1)
/* 8041D450 0041A250  C8 82 F6 C8 */	lfd f4, lbl_805E5DC8@sda21(r2)
/* 8041D454 0041A254  FC 40 08 90 */	fmr f2, f1
/* 8041D458 0041A258  C8 01 00 48 */	lfd f0, 0x48(r1)
/* 8041D45C 0041A25C  FC A0 08 90 */	fmr f5, f1
/* 8041D460 0041A260  90 01 00 54 */	stw r0, 0x54(r1)
/* 8041D464 0041A264  EC 60 20 28 */	fsubs f3, f0, f4
/* 8041D468 0041A268  C0 C2 F6 D0 */	lfs f6, lbl_805E5DD0@sda21(r2)
/* 8041D46C 0041A26C  90 61 00 50 */	stw r3, 0x50(r1)
/* 8041D470 0041A270  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8041D474 0041A274  EC 80 20 28 */	fsubs f4, f0, f4
/* 8041D478 0041A278  4B FB 35 55 */	bl GXSetViewport
/* 8041D47C 0041A27C  A0 BB 00 04 */	lhz r5, 4(r27)
/* 8041D480 0041A280  38 60 00 00 */	li r3, 0
/* 8041D484 0041A284  A0 DB 00 06 */	lhz r6, 6(r27)
/* 8041D488 0041A288  38 80 00 00 */	li r4, 0
/* 8041D48C 0041A28C  4B FB 35 9D */	bl GXSetScissor
/* 8041D490 0041A290  3C 60 80 50 */	lis r3, lbl_80503FC0@ha
/* 8041D494 0041A294  38 80 00 00 */	li r4, 0
/* 8041D498 0041A298  38 63 3F C0 */	addi r3, r3, lbl_80503FC0@l
/* 8041D49C 0041A29C  4B FB 32 A1 */	bl GXLoadPosMtxImm
/* 8041D4A0 0041A2A0  3C 80 80 50 */	lis r4, lbl_80504418@ha
/* 8041D4A4 0041A2A4  38 60 00 00 */	li r3, 0
/* 8041D4A8 0041A2A8  38 A4 44 18 */	addi r5, r4, lbl_80504418@l
/* 8041D4AC 0041A2AC  80 85 00 0C */	lwz r4, 0xc(r5)
/* 8041D4B0 0041A2B0  38 04 00 01 */	addi r0, r4, 1
/* 8041D4B4 0041A2B4  90 05 00 0C */	stw r0, 0xc(r5)
/* 8041D4B8 0041A2B8  4B FB 33 25 */	bl GXSetCurrentMtx
/* 8041D4BC 0041A2BC  4B FE 86 81 */	bl HSD_ClearVtxDesc
/* 8041D4C0 0041A2C0  38 60 00 09 */	li r3, 9
/* 8041D4C4 0041A2C4  38 80 00 01 */	li r4, 1
/* 8041D4C8 0041A2C8  4B FA CC BD */	bl GXSetVtxDesc
/* 8041D4CC 0041A2CC  38 60 00 00 */	li r3, 0
/* 8041D4D0 0041A2D0  38 80 00 09 */	li r4, 9
/* 8041D4D4 0041A2D4  38 A0 00 00 */	li r5, 0
/* 8041D4D8 0041A2D8  38 C0 00 00 */	li r6, 0
/* 8041D4DC 0041A2DC  38 E0 00 00 */	li r7, 0
/* 8041D4E0 0041A2E0  4B FA D7 5D */	bl GXSetVtxAttrFmt
/* 8041D4E4 0041A2E4  38 60 00 02 */	li r3, 2
/* 8041D4E8 0041A2E8  4B FD B0 05 */	bl HSD_StateSetCullMode
/* 8041D4EC 0041A2EC  38 60 00 80 */	li r3, 0x80
/* 8041D4F0 0041A2F0  38 80 00 00 */	li r4, 0
/* 8041D4F4 0041A2F4  38 A0 00 04 */	li r5, 4
/* 8041D4F8 0041A2F8  4B FA ED BD */	bl GXBegin
/* 8041D4FC 0041A2FC  38 A0 00 00 */	li r5, 0
/* 8041D500 0041A300  3C 80 CC 01 */	lis r4, 0xCC008000@ha
/* 8041D504 0041A304  98 A4 80 00 */	stb r5, 0xCC008000@l(r4)
/* 8041D508 0041A308  38 00 00 01 */	li r0, 1
/* 8041D50C 0041A30C  7F C3 F3 78 */	mr r3, r30
/* 8041D510 0041A310  98 04 80 00 */	stb r0, -0x8000(r4)
/* 8041D514 0041A314  98 04 80 00 */	stb r0, -0x8000(r4)
/* 8041D518 0041A318  98 04 80 00 */	stb r0, -0x8000(r4)
/* 8041D51C 0041A31C  98 04 80 00 */	stb r0, -0x8000(r4)
/* 8041D520 0041A320  98 A4 80 00 */	stb r5, -0x8000(r4)
/* 8041D524 0041A324  98 A4 80 00 */	stb r5, -0x8000(r4)
/* 8041D528 0041A328  98 A4 80 00 */	stb r5, -0x8000(r4)
/* 8041D52C 0041A32C  88 1A 00 20 */	lbz r0, 0x20(r26)
/* 8041D530 0041A330  98 1E 00 10 */	stb r0, 0x10(r30)
/* 8041D534 0041A334  98 1E 00 11 */	stb r0, 0x11(r30)
/* 8041D538 0041A338  98 1D 00 00 */	stb r0, 0(r29)
/* 8041D53C 0041A33C  4B FD BA 0D */	bl HSD_SetupChannelAll
/* 8041D540 0041A340  80 1A 00 00 */	lwz r0, 0(r26)
/* 8041D544 0041A344  28 00 00 00 */	cmplwi r0, 0
/* 8041D548 0041A348  41 82 00 78 */	beq lbl_8041D5C0
/* 8041D54C 0041A34C  7F 83 E3 78 */	mr r3, r28
/* 8041D550 0041A350  4B FE 45 4D */	bl HSD_CObjGetEyeDistance
/* 8041D554 0041A354  3C 60 80 5E */	lis r3, lbl_805DC8C0@ha
/* 8041D558 0041A358  C0 03 C8 C0 */	lfs f0, lbl_805DC8C0@l(r3)
/* 8041D55C 0041A35C  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041D560 0041A360  4C 41 13 82 */	cror 2, 1, 2
/* 8041D564 0041A364  40 82 00 5C */	bne lbl_8041D5C0
/* 8041D568 0041A368  7F 83 E3 78 */	mr r3, r28
/* 8041D56C 0041A36C  4B FE 3B E5 */	bl func_80401150
/* 8041D570 0041A370  2C 03 00 00 */	cmpwi r3, 0
/* 8041D574 0041A374  41 82 00 4C */	beq lbl_8041D5C0
/* 8041D578 0041A378  A0 BB 00 04 */	lhz r5, 4(r27)
/* 8041D57C 0041A37C  38 60 00 02 */	li r3, 2
/* 8041D580 0041A380  A0 DB 00 06 */	lhz r6, 6(r27)
/* 8041D584 0041A384  38 80 00 02 */	li r4, 2
/* 8041D588 0041A388  38 A5 FF FC */	addi r5, r5, -4
/* 8041D58C 0041A38C  38 C6 FF FC */	addi r6, r6, -4
/* 8041D590 0041A390  4B FB 34 99 */	bl GXSetScissor
/* 8041D594 0041A394  83 5A 00 00 */	lwz r26, 0(r26)
/* 8041D598 0041A398  48 00 00 1C */	b lbl_8041D5B4
lbl_8041D59C:
/* 8041D59C 0041A39C  80 7A 00 04 */	lwz r3, 4(r26)
/* 8041D5A0 0041A3A0  38 80 00 00 */	li r4, 0
/* 8041D5A4 0041A3A4  38 A0 00 05 */	li r5, 5
/* 8041D5A8 0041A3A8  3C C0 04 00 */	lis r6, 0x400
/* 8041D5AC 0041A3AC  4B FE D2 0D */	bl func_8040A7B8
/* 8041D5B0 0041A3B0  83 5A 00 00 */	lwz r26, 0(r26)
lbl_8041D5B4:
/* 8041D5B4 0041A3B4  28 1A 00 00 */	cmplwi r26, 0
/* 8041D5B8 0041A3B8  40 82 FF E4 */	bne lbl_8041D59C
/* 8041D5BC 0041A3BC  4B FE 41 09 */	bl HSD_CObjEndCurrent
lbl_8041D5C0:
/* 8041D5C0 0041A3C0  39 61 00 70 */	addi r11, r1, 0x70
/* 8041D5C4 0041A3C4  4B F9 05 D9 */	bl _restgpr_26
/* 8041D5C8 0041A3C8  80 01 00 74 */	lwz r0, 0x74(r1)
/* 8041D5CC 0041A3CC  7C 08 03 A6 */	mtlr r0
/* 8041D5D0 0041A3D0  38 21 00 70 */	addi r1, r1, 0x70
/* 8041D5D4 0041A3D4  4E 80 00 20 */	blr 

.global HSD_ShadowEndRender
HSD_ShadowEndRender:
/* 8041D5D8 0041A3D8  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 8041D5DC 0041A3DC  7C 08 02 A6 */	mflr r0
/* 8041D5E0 0041A3E0  90 01 00 44 */	stw r0, 0x44(r1)
/* 8041D5E4 0041A3E4  39 61 00 40 */	addi r11, r1, 0x40
/* 8041D5E8 0041A3E8  4B F9 05 65 */	bl _savegpr_25
/* 8041D5EC 0041A3EC  7C 79 1B 79 */	or. r25, r3, r3
/* 8041D5F0 0041A3F0  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041D5F4 0041A3F4  3B E3 45 28 */	addi r31, r3, lbl_80504528@l
/* 8041D5F8 0041A3F8  40 82 00 14 */	bne lbl_8041D60C
/* 8041D5FC 0041A3FC  38 7F 00 00 */	addi r3, r31, 0
/* 8041D600 0041A400  38 80 01 ED */	li r4, 0x1ed
/* 8041D604 0041A404  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041D608 0041A408  48 00 AE B1 */	bl __assert
lbl_8041D60C:
/* 8041D60C 0041A40C  80 79 00 08 */	lwz r3, 8(r25)
/* 8041D610 0041A410  83 43 00 58 */	lwz r26, 0x58(r3)
/* 8041D614 0041A414  80 1A 00 00 */	lwz r0, 0(r26)
/* 8041D618 0041A418  28 00 00 00 */	cmplwi r0, 0
/* 8041D61C 0041A41C  40 82 01 20 */	bne lbl_8041D73C
/* 8041D620 0041A420  28 19 00 00 */	cmplwi r25, 0
/* 8041D624 0041A424  A3 7A 00 06 */	lhz r27, 6(r26)
/* 8041D628 0041A428  A3 9A 00 04 */	lhz r28, 4(r26)
/* 8041D62C 0041A42C  40 82 00 14 */	bne lbl_8041D640
/* 8041D630 0041A430  38 7F 00 00 */	addi r3, r31, 0
/* 8041D634 0041A434  38 80 01 15 */	li r4, 0x115
/* 8041D638 0041A438  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041D63C 0041A43C  48 00 AE 7D */	bl __assert
lbl_8041D640:
/* 8041D640 0041A440  28 1C 00 00 */	cmplwi r28, 0
/* 8041D644 0041A444  40 82 00 14 */	bne lbl_8041D658
/* 8041D648 0041A448  38 7F 00 00 */	addi r3, r31, 0
/* 8041D64C 0041A44C  38 BF 00 0C */	addi r5, r31, 0xc
/* 8041D650 0041A450  38 80 01 16 */	li r4, 0x116
/* 8041D654 0041A454  48 00 AE 65 */	bl __assert
lbl_8041D658:
/* 8041D658 0041A458  28 1B 00 00 */	cmplwi r27, 0
/* 8041D65C 0041A45C  40 82 00 14 */	bne lbl_8041D670
/* 8041D660 0041A460  38 7F 00 00 */	addi r3, r31, 0
/* 8041D664 0041A464  38 BF 00 18 */	addi r5, r31, 0x18
/* 8041D668 0041A468  38 80 01 17 */	li r4, 0x117
/* 8041D66C 0041A46C  48 00 AE 4D */	bl __assert
lbl_8041D670:
/* 8041D670 0041A470  80 79 00 08 */	lwz r3, 8(r25)
/* 8041D674 0041A474  83 C3 00 58 */	lwz r30, 0x58(r3)
/* 8041D678 0041A478  80 7E 00 00 */	lwz r3, 0(r30)
/* 8041D67C 0041A47C  28 03 00 00 */	cmplwi r3, 0
/* 8041D680 0041A480  41 82 00 1C */	beq lbl_8041D69C
/* 8041D684 0041A484  A0 1E 00 04 */	lhz r0, 4(r30)
/* 8041D688 0041A488  7C 00 E0 40 */	cmplw r0, r28
/* 8041D68C 0041A48C  40 82 00 10 */	bne lbl_8041D69C
/* 8041D690 0041A490  A0 1E 00 06 */	lhz r0, 6(r30)
/* 8041D694 0041A494  7C 00 D8 40 */	cmplw r0, r27
/* 8041D698 0041A498  41 82 00 A4 */	beq lbl_8041D73C
lbl_8041D69C:
/* 8041D69C 0041A49C  28 03 00 00 */	cmplwi r3, 0
/* 8041D6A0 0041A4A0  41 82 00 08 */	beq lbl_8041D6A8
/* 8041D6A4 0041A4A4  4B FF F8 11 */	bl HSD_Free
lbl_8041D6A8:
/* 8041D6A8 0041A4A8  7F 83 E3 78 */	mr r3, r28
/* 8041D6AC 0041A4AC  7F 64 DB 78 */	mr r4, r27
/* 8041D6B0 0041A4B0  38 A0 00 00 */	li r5, 0
/* 8041D6B4 0041A4B4  38 C0 00 00 */	li r6, 0
/* 8041D6B8 0041A4B8  38 E0 00 00 */	li r7, 0
/* 8041D6BC 0041A4BC  4B FA FE F5 */	bl GXGetTexBufferSize
/* 8041D6C0 0041A4C0  7C 7D 1B 79 */	or. r29, r3, r3
/* 8041D6C4 0041A4C4  40 82 00 14 */	bne lbl_8041D6D8
/* 8041D6C8 0041A4C8  38 7F 00 00 */	addi r3, r31, 0
/* 8041D6CC 0041A4CC  38 BF 00 24 */	addi r5, r31, 0x24
/* 8041D6D0 0041A4D0  38 80 01 22 */	li r4, 0x122
/* 8041D6D4 0041A4D4  48 00 AD E5 */	bl __assert
lbl_8041D6D8:
/* 8041D6D8 0041A4D8  7F A3 EB 78 */	mr r3, r29
/* 8041D6DC 0041A4DC  4B FF F8 09 */	bl HSD_Alloc
/* 8041D6E0 0041A4E0  3C 00 43 30 */	lis r0, 0x4330
/* 8041D6E4 0041A4E4  90 7E 00 00 */	stw r3, 0(r30)
/* 8041D6E8 0041A4E8  C0 22 F6 C0 */	lfs f1, lbl_805E5DC0@sda21(r2)
/* 8041D6EC 0041A4EC  B3 9E 00 04 */	sth r28, 4(r30)
/* 8041D6F0 0041A4F0  C8 82 F6 C8 */	lfd f4, lbl_805E5DC8@sda21(r2)
/* 8041D6F4 0041A4F4  FC 60 08 90 */	fmr f3, f1
/* 8041D6F8 0041A4F8  B3 7E 00 06 */	sth r27, 6(r30)
/* 8041D6FC 0041A4FC  93 81 00 0C */	stw r28, 0xc(r1)
/* 8041D700 0041A500  80 79 00 04 */	lwz r3, 4(r25)
/* 8041D704 0041A504  90 01 00 08 */	stw r0, 8(r1)
/* 8041D708 0041A508  C8 01 00 08 */	lfd f0, 8(r1)
/* 8041D70C 0041A50C  93 61 00 14 */	stw r27, 0x14(r1)
/* 8041D710 0041A510  EC 40 20 28 */	fsubs f2, f0, f4
/* 8041D714 0041A514  90 01 00 10 */	stw r0, 0x10(r1)
/* 8041D718 0041A518  C8 01 00 10 */	lfd f0, 0x10(r1)
/* 8041D71C 0041A51C  EC 80 20 28 */	fsubs f4, f0, f4
/* 8041D720 0041A520  4B FE 57 81 */	bl HSD_CObjSetViewportfx4
/* 8041D724 0041A524  80 79 00 04 */	lwz r3, 4(r25)
/* 8041D728 0041A528  7F 85 E3 78 */	mr r5, r28
/* 8041D72C 0041A52C  7F 67 DB 78 */	mr r7, r27
/* 8041D730 0041A530  38 80 00 00 */	li r4, 0
/* 8041D734 0041A534  38 C0 00 00 */	li r6, 0
/* 8041D738 0041A538  4B FE 56 05 */	bl HSD_CObjSetScissorx4
lbl_8041D73C:
/* 8041D73C 0041A53C  80 7A 00 00 */	lwz r3, 0(r26)
/* 8041D740 0041A540  38 80 00 01 */	li r4, 1
/* 8041D744 0041A544  4B FA F6 91 */	bl GXCopyTex
/* 8041D748 0041A548  4B FA E7 55 */	bl GXPixModeSync
/* 8041D74C 0041A54C  4B FB 09 39 */	bl GXInvalidateTexAll
/* 8041D750 0041A550  7F 23 CB 78 */	mr r3, r25
/* 8041D754 0041A554  48 00 03 25 */	bl makeMatrix
/* 8041D758 0041A558  39 61 00 40 */	addi r11, r1, 0x40
/* 8041D75C 0041A55C  4B F9 04 3D */	bl _restgpr_25
/* 8041D760 0041A560  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8041D764 0041A564  7C 08 03 A6 */	mtlr r0
/* 8041D768 0041A568  38 21 00 40 */	addi r1, r1, 0x40
/* 8041D76C 0041A56C  4E 80 00 20 */	blr 

.global HSD_ShadowSetActive
HSD_ShadowSetActive:
/* 8041D770 0041A570  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8041D774 0041A574  7C 08 02 A6 */	mflr r0
/* 8041D778 0041A578  90 01 00 34 */	stw r0, 0x34(r1)
/* 8041D77C 0041A57C  39 61 00 30 */	addi r11, r1, 0x30
/* 8041D780 0041A580  4B F9 03 D1 */	bl _savegpr_26
/* 8041D784 0041A584  7C 7F 1B 79 */	or. r31, r3, r3
/* 8041D788 0041A588  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041D78C 0041A58C  7C 9A 23 78 */	mr r26, r4
/* 8041D790 0041A590  3B C3 45 28 */	addi r30, r3, lbl_80504528@l
/* 8041D794 0041A594  40 82 00 14 */	bne lbl_8041D7A8
/* 8041D798 0041A598  38 7E 00 00 */	addi r3, r30, 0
/* 8041D79C 0041A59C  38 80 02 3A */	li r4, 0x23a
/* 8041D7A0 0041A5A0  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041D7A4 0041A5A4  48 00 AD 15 */	bl __assert
lbl_8041D7A8:
/* 8041D7A8 0041A5A8  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 8041D7AC 0041A5AC  2C 00 00 00 */	cmpwi r0, 0
/* 8041D7B0 0041A5B0  41 82 00 0C */	beq lbl_8041D7BC
/* 8041D7B4 0041A5B4  2C 1A 00 00 */	cmpwi r26, 0
/* 8041D7B8 0041A5B8  40 82 01 68 */	bne lbl_8041D920
lbl_8041D7BC:
/* 8041D7BC 0041A5BC  2C 00 00 00 */	cmpwi r0, 0
/* 8041D7C0 0041A5C0  40 82 00 10 */	bne lbl_8041D7D0
/* 8041D7C4 0041A5C4  2C 1A 00 00 */	cmpwi r26, 0
/* 8041D7C8 0041A5C8  40 82 00 08 */	bne lbl_8041D7D0
/* 8041D7CC 0041A5CC  48 00 01 54 */	b lbl_8041D920
lbl_8041D7D0:
/* 8041D7D0 0041A5D0  2C 1A 00 00 */	cmpwi r26, 0
/* 8041D7D4 0041A5D4  93 5F 00 1C */	stw r26, 0x1c(r31)
/* 8041D7D8 0041A5D8  41 82 01 40 */	beq lbl_8041D918
/* 8041D7DC 0041A5DC  80 7F 00 08 */	lwz r3, 8(r31)
/* 8041D7E0 0041A5E0  80 63 00 58 */	lwz r3, 0x58(r3)
/* 8041D7E4 0041A5E4  80 03 00 00 */	lwz r0, 0(r3)
/* 8041D7E8 0041A5E8  28 00 00 00 */	cmplwi r0, 0
/* 8041D7EC 0041A5EC  40 82 01 20 */	bne lbl_8041D90C
/* 8041D7F0 0041A5F0  28 1F 00 00 */	cmplwi r31, 0
/* 8041D7F4 0041A5F4  A3 43 00 06 */	lhz r26, 6(r3)
/* 8041D7F8 0041A5F8  A3 63 00 04 */	lhz r27, 4(r3)
/* 8041D7FC 0041A5FC  40 82 00 14 */	bne lbl_8041D810
/* 8041D800 0041A600  38 7E 00 00 */	addi r3, r30, 0
/* 8041D804 0041A604  38 80 01 15 */	li r4, 0x115
/* 8041D808 0041A608  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041D80C 0041A60C  48 00 AC AD */	bl __assert
lbl_8041D810:
/* 8041D810 0041A610  28 1B 00 00 */	cmplwi r27, 0
/* 8041D814 0041A614  40 82 00 14 */	bne lbl_8041D828
/* 8041D818 0041A618  38 7E 00 00 */	addi r3, r30, 0
/* 8041D81C 0041A61C  38 BE 00 0C */	addi r5, r30, 0xc
/* 8041D820 0041A620  38 80 01 16 */	li r4, 0x116
/* 8041D824 0041A624  48 00 AC 95 */	bl __assert
lbl_8041D828:
/* 8041D828 0041A628  28 1A 00 00 */	cmplwi r26, 0
/* 8041D82C 0041A62C  40 82 00 14 */	bne lbl_8041D840
/* 8041D830 0041A630  38 7E 00 00 */	addi r3, r30, 0
/* 8041D834 0041A634  38 BE 00 18 */	addi r5, r30, 0x18
/* 8041D838 0041A638  38 80 01 17 */	li r4, 0x117
/* 8041D83C 0041A63C  48 00 AC 7D */	bl __assert
lbl_8041D840:
/* 8041D840 0041A640  80 7F 00 08 */	lwz r3, 8(r31)
/* 8041D844 0041A644  83 A3 00 58 */	lwz r29, 0x58(r3)
/* 8041D848 0041A648  80 7D 00 00 */	lwz r3, 0(r29)
/* 8041D84C 0041A64C  28 03 00 00 */	cmplwi r3, 0
/* 8041D850 0041A650  41 82 00 1C */	beq lbl_8041D86C
/* 8041D854 0041A654  A0 1D 00 04 */	lhz r0, 4(r29)
/* 8041D858 0041A658  7C 00 D8 40 */	cmplw r0, r27
/* 8041D85C 0041A65C  40 82 00 10 */	bne lbl_8041D86C
/* 8041D860 0041A660  A0 1D 00 06 */	lhz r0, 6(r29)
/* 8041D864 0041A664  7C 00 D0 40 */	cmplw r0, r26
/* 8041D868 0041A668  41 82 00 A4 */	beq lbl_8041D90C
lbl_8041D86C:
/* 8041D86C 0041A66C  28 03 00 00 */	cmplwi r3, 0
/* 8041D870 0041A670  41 82 00 08 */	beq lbl_8041D878
/* 8041D874 0041A674  4B FF F6 41 */	bl HSD_Free
lbl_8041D878:
/* 8041D878 0041A678  7F 63 DB 78 */	mr r3, r27
/* 8041D87C 0041A67C  7F 44 D3 78 */	mr r4, r26
/* 8041D880 0041A680  38 A0 00 00 */	li r5, 0
/* 8041D884 0041A684  38 C0 00 00 */	li r6, 0
/* 8041D888 0041A688  38 E0 00 00 */	li r7, 0
/* 8041D88C 0041A68C  4B FA FD 25 */	bl GXGetTexBufferSize
/* 8041D890 0041A690  7C 7C 1B 79 */	or. r28, r3, r3
/* 8041D894 0041A694  40 82 00 14 */	bne lbl_8041D8A8
/* 8041D898 0041A698  38 7E 00 00 */	addi r3, r30, 0
/* 8041D89C 0041A69C  38 BE 00 24 */	addi r5, r30, 0x24
/* 8041D8A0 0041A6A0  38 80 01 22 */	li r4, 0x122
/* 8041D8A4 0041A6A4  48 00 AC 15 */	bl __assert
lbl_8041D8A8:
/* 8041D8A8 0041A6A8  7F 83 E3 78 */	mr r3, r28
/* 8041D8AC 0041A6AC  4B FF F6 39 */	bl HSD_Alloc
/* 8041D8B0 0041A6B0  3C 00 43 30 */	lis r0, 0x4330
/* 8041D8B4 0041A6B4  90 7D 00 00 */	stw r3, 0(r29)
/* 8041D8B8 0041A6B8  C0 22 F6 C0 */	lfs f1, lbl_805E5DC0@sda21(r2)
/* 8041D8BC 0041A6BC  B3 7D 00 04 */	sth r27, 4(r29)
/* 8041D8C0 0041A6C0  C8 82 F6 C8 */	lfd f4, lbl_805E5DC8@sda21(r2)
/* 8041D8C4 0041A6C4  FC 60 08 90 */	fmr f3, f1
/* 8041D8C8 0041A6C8  B3 5D 00 06 */	sth r26, 6(r29)
/* 8041D8CC 0041A6CC  93 61 00 0C */	stw r27, 0xc(r1)
/* 8041D8D0 0041A6D0  80 7F 00 04 */	lwz r3, 4(r31)
/* 8041D8D4 0041A6D4  90 01 00 08 */	stw r0, 8(r1)
/* 8041D8D8 0041A6D8  C8 01 00 08 */	lfd f0, 8(r1)
/* 8041D8DC 0041A6DC  93 41 00 14 */	stw r26, 0x14(r1)
/* 8041D8E0 0041A6E0  EC 40 20 28 */	fsubs f2, f0, f4
/* 8041D8E4 0041A6E4  90 01 00 10 */	stw r0, 0x10(r1)
/* 8041D8E8 0041A6E8  C8 01 00 10 */	lfd f0, 0x10(r1)
/* 8041D8EC 0041A6EC  EC 80 20 28 */	fsubs f4, f0, f4
/* 8041D8F0 0041A6F0  4B FE 55 B1 */	bl HSD_CObjSetViewportfx4
/* 8041D8F4 0041A6F4  80 7F 00 04 */	lwz r3, 4(r31)
/* 8041D8F8 0041A6F8  7F 65 DB 78 */	mr r5, r27
/* 8041D8FC 0041A6FC  7F 47 D3 78 */	mr r7, r26
/* 8041D900 0041A700  38 80 00 00 */	li r4, 0
/* 8041D904 0041A704  38 C0 00 00 */	li r6, 0
/* 8041D908 0041A708  4B FE 54 35 */	bl HSD_CObjSetScissorx4
lbl_8041D90C:
/* 8041D90C 0041A70C  80 7F 00 08 */	lwz r3, 8(r31)
/* 8041D910 0041A710  4B FD D5 B5 */	bl HSD_MObjAddShadowTexture
/* 8041D914 0041A714  48 00 00 0C */	b lbl_8041D920
lbl_8041D918:
/* 8041D918 0041A718  80 7F 00 08 */	lwz r3, 8(r31)
/* 8041D91C 0041A71C  4B FD D6 0D */	bl HSD_MObjDeleteShadowTexture
lbl_8041D920:
/* 8041D920 0041A720  39 61 00 30 */	addi r11, r1, 0x30
/* 8041D924 0041A724  4B F9 02 79 */	bl _restgpr_26
/* 8041D928 0041A728  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8041D92C 0041A72C  7C 08 03 A6 */	mtlr r0
/* 8041D930 0041A730  38 21 00 30 */	addi r1, r1, 0x30
/* 8041D934 0041A734  4E 80 00 20 */	blr 

.global HSD_ShadowAddObject
HSD_ShadowAddObject:
/* 8041D938 0041A738  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8041D93C 0041A73C  7C 08 02 A6 */	mflr r0
/* 8041D940 0041A740  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041D944 0041A744  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8041D948 0041A748  7C 9F 23 78 */	mr r31, r4
/* 8041D94C 0041A74C  93 C1 00 08 */	stw r30, 8(r1)
/* 8041D950 0041A750  7C 7E 1B 79 */	or. r30, r3, r3
/* 8041D954 0041A754  41 82 00 78 */	beq lbl_8041D9CC
/* 8041D958 0041A758  28 1F 00 00 */	cmplwi r31, 0
/* 8041D95C 0041A75C  40 82 00 08 */	bne lbl_8041D964
/* 8041D960 0041A760  48 00 00 6C */	b lbl_8041D9CC
lbl_8041D964:
/* 8041D964 0041A764  80 7E 00 00 */	lwz r3, 0(r30)
/* 8041D968 0041A768  7C 64 1B 78 */	mr r4, r3
/* 8041D96C 0041A76C  48 00 00 14 */	b lbl_8041D980
lbl_8041D970:
/* 8041D970 0041A770  80 04 00 04 */	lwz r0, 4(r4)
/* 8041D974 0041A774  7C 00 F8 40 */	cmplw r0, r31
/* 8041D978 0041A778  41 82 00 54 */	beq lbl_8041D9CC
/* 8041D97C 0041A77C  80 84 00 00 */	lwz r4, 0(r4)
lbl_8041D980:
/* 8041D980 0041A780  28 04 00 00 */	cmplwi r4, 0
/* 8041D984 0041A784  40 82 FF EC */	bne lbl_8041D970
/* 8041D988 0041A788  7F E4 FB 78 */	mr r4, r31
/* 8041D98C 0041A78C  4B FF E3 BD */	bl HSD_SListPrepend
/* 8041D990 0041A790  28 1F 00 00 */	cmplwi r31, 0
/* 8041D994 0041A794  90 7E 00 00 */	stw r3, 0(r30)
/* 8041D998 0041A798  41 82 00 34 */	beq lbl_8041D9CC
/* 8041D99C 0041A79C  A0 7F 00 04 */	lhz r3, 4(r31)
/* 8041D9A0 0041A7A0  38 03 00 01 */	addi r0, r3, 1
/* 8041D9A4 0041A7A4  B0 1F 00 04 */	sth r0, 4(r31)
/* 8041D9A8 0041A7A8  A0 1F 00 04 */	lhz r0, 4(r31)
/* 8041D9AC 0041A7AC  28 00 FF FF */	cmplwi r0, 0xffff
/* 8041D9B0 0041A7B0  40 82 00 1C */	bne lbl_8041D9CC
/* 8041D9B4 0041A7B4  3C 60 80 50 */	lis r3, lbl_80504644@ha
/* 8041D9B8 0041A7B8  3C A0 80 50 */	lis r5, lbl_80504650@ha
/* 8041D9BC 0041A7BC  38 63 46 44 */	addi r3, r3, lbl_80504644@l
/* 8041D9C0 0041A7C0  38 80 00 5D */	li r4, 0x5d
/* 8041D9C4 0041A7C4  38 A5 46 50 */	addi r5, r5, lbl_80504650@l
/* 8041D9C8 0041A7C8  48 00 AA F1 */	bl __assert
lbl_8041D9CC:
/* 8041D9CC 0041A7CC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8041D9D0 0041A7D0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8041D9D4 0041A7D4  83 C1 00 08 */	lwz r30, 8(r1)
/* 8041D9D8 0041A7D8  7C 08 03 A6 */	mtlr r0
/* 8041D9DC 0041A7DC  38 21 00 10 */	addi r1, r1, 0x10
/* 8041D9E0 0041A7E0  4E 80 00 20 */	blr 

.global HSD_ShadowDeleteObject
HSD_ShadowDeleteObject:
/* 8041D9E4 0041A7E4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8041D9E8 0041A7E8  7C 08 02 A6 */	mflr r0
/* 8041D9EC 0041A7EC  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041D9F0 0041A7F0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8041D9F4 0041A7F4  7C 7F 1B 79 */	or. r31, r3, r3
/* 8041D9F8 0041A7F8  41 82 00 6C */	beq lbl_8041DA64
/* 8041D9FC 0041A7FC  28 04 00 00 */	cmplwi r4, 0
/* 8041DA00 0041A800  41 82 00 58 */	beq lbl_8041DA58
/* 8041DA04 0041A804  48 00 00 2C */	b lbl_8041DA30
lbl_8041DA08:
/* 8041DA08 0041A808  80 03 00 04 */	lwz r0, 4(r3)
/* 8041DA0C 0041A80C  7C 00 20 40 */	cmplw r0, r4
/* 8041DA10 0041A810  40 82 00 1C */	bne lbl_8041DA2C
/* 8041DA14 0041A814  7C 83 23 78 */	mr r3, r4
/* 8041DA18 0041A818  4B FE DB 11 */	bl HSD_JObjUnref
/* 8041DA1C 0041A81C  80 7F 00 00 */	lwz r3, 0(r31)
/* 8041DA20 0041A820  4B FF E4 69 */	bl HSD_SListRemove
/* 8041DA24 0041A824  90 7F 00 00 */	stw r3, 0(r31)
/* 8041DA28 0041A828  48 00 00 3C */	b lbl_8041DA64
lbl_8041DA2C:
/* 8041DA2C 0041A82C  7C 7F 1B 78 */	mr r31, r3
lbl_8041DA30:
/* 8041DA30 0041A830  80 7F 00 00 */	lwz r3, 0(r31)
/* 8041DA34 0041A834  28 03 00 00 */	cmplwi r3, 0
/* 8041DA38 0041A838  40 82 FF D0 */	bne lbl_8041DA08
/* 8041DA3C 0041A83C  48 00 00 28 */	b lbl_8041DA64
/* 8041DA40 0041A840  48 00 00 18 */	b lbl_8041DA58
lbl_8041DA44:
/* 8041DA44 0041A844  80 63 00 04 */	lwz r3, 4(r3)
/* 8041DA48 0041A848  4B FE DA E1 */	bl HSD_JObjUnref
/* 8041DA4C 0041A84C  80 7F 00 00 */	lwz r3, 0(r31)
/* 8041DA50 0041A850  4B FF E4 39 */	bl HSD_SListRemove
/* 8041DA54 0041A854  90 7F 00 00 */	stw r3, 0(r31)
lbl_8041DA58:
/* 8041DA58 0041A858  80 7F 00 00 */	lwz r3, 0(r31)
/* 8041DA5C 0041A85C  28 03 00 00 */	cmplwi r3, 0
/* 8041DA60 0041A860  40 82 FF E4 */	bne lbl_8041DA44
lbl_8041DA64:
/* 8041DA64 0041A864  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8041DA68 0041A868  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8041DA6C 0041A86C  7C 08 03 A6 */	mtlr r0
/* 8041DA70 0041A870  38 21 00 10 */	addi r1, r1, 0x10
/* 8041DA74 0041A874  4E 80 00 20 */	blr 

.global makeMatrix
makeMatrix:
/* 8041DA78 0041A878  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 8041DA7C 0041A87C  7C 08 02 A6 */	mflr r0
/* 8041DA80 0041A880  90 01 00 54 */	stw r0, 0x54(r1)
/* 8041DA84 0041A884  93 E1 00 4C */	stw r31, 0x4c(r1)
/* 8041DA88 0041A888  7C 7F 1B 78 */	mr r31, r3
/* 8041DA8C 0041A88C  80 63 00 04 */	lwz r3, 4(r3)
/* 8041DA90 0041A890  4B FE 40 0D */	bl HSD_CObjGetEyeDistance
/* 8041DA94 0041A894  3C 60 80 5E */	lis r3, lbl_805DC8C0@ha
/* 8041DA98 0041A898  C0 03 C8 C0 */	lfs f0, lbl_805DC8C0@l(r3)
/* 8041DA9C 0041A89C  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041DAA0 0041A8A0  40 80 00 1C */	bge lbl_8041DABC
/* 8041DAA4 0041A8A4  80 9F 00 08 */	lwz r4, 8(r31)
/* 8041DAA8 0041A8A8  3C 60 80 50 */	lis r3, lbl_80504678@ha
/* 8041DAAC 0041A8AC  38 63 46 78 */	addi r3, r3, lbl_80504678@l
/* 8041DAB0 0041A8B0  38 84 00 74 */	addi r4, r4, 0x74
/* 8041DAB4 0041A8B4  4B FB 39 75 */	bl PSMTXCopy
/* 8041DAB8 0041A8B8  48 00 00 EC */	b lbl_8041DBA4
lbl_8041DABC:
/* 8041DABC 0041A8BC  80 7F 00 04 */	lwz r3, 4(r31)
/* 8041DAC0 0041A8C0  4B FE 53 FD */	bl HSD_CObjGetProjectionType
/* 8041DAC4 0041A8C4  2C 03 00 02 */	cmpwi r3, 2
/* 8041DAC8 0041A8C8  41 82 00 48 */	beq lbl_8041DB10
/* 8041DACC 0041A8CC  40 80 00 10 */	bge lbl_8041DADC
/* 8041DAD0 0041A8D0  2C 03 00 01 */	cmpwi r3, 1
/* 8041DAD4 0041A8D4  40 80 00 14 */	bge lbl_8041DAE8
/* 8041DAD8 0041A8D8  48 00 00 A0 */	b lbl_8041DB78
lbl_8041DADC:
/* 8041DADC 0041A8DC  2C 03 00 04 */	cmpwi r3, 4
/* 8041DAE0 0041A8E0  40 80 00 98 */	bge lbl_8041DB78
/* 8041DAE4 0041A8E4  48 00 00 64 */	b lbl_8041DB48
lbl_8041DAE8:
/* 8041DAE8 0041A8E8  80 9F 00 04 */	lwz r4, 4(r31)
/* 8041DAEC 0041A8EC  38 61 00 10 */	addi r3, r1, 0x10
/* 8041DAF0 0041A8F0  C0 7F 00 0C */	lfs f3, 0xc(r31)
/* 8041DAF4 0041A8F4  C0 24 00 40 */	lfs f1, 0x40(r4)
/* 8041DAF8 0041A8F8  C0 44 00 44 */	lfs f2, 0x44(r4)
/* 8041DAFC 0041A8FC  C0 9F 00 10 */	lfs f4, 0x10(r31)
/* 8041DB00 0041A900  C0 BF 00 14 */	lfs f5, 0x14(r31)
/* 8041DB04 0041A904  C0 DF 00 18 */	lfs f6, 0x18(r31)
/* 8041DB08 0041A908  4B FB 41 91 */	bl C_MTXLightPerspective
/* 8041DB0C 0041A90C  48 00 00 80 */	b lbl_8041DB8C
lbl_8041DB10:
/* 8041DB10 0041A910  80 9F 00 04 */	lwz r4, 4(r31)
/* 8041DB14 0041A914  38 61 00 10 */	addi r3, r1, 0x10
/* 8041DB18 0041A918  C0 1F 00 18 */	lfs f0, 0x18(r31)
/* 8041DB1C 0041A91C  D0 01 00 08 */	stfs f0, 8(r1)
/* 8041DB20 0041A920  C0 24 00 40 */	lfs f1, 0x40(r4)
/* 8041DB24 0041A924  C0 44 00 44 */	lfs f2, 0x44(r4)
/* 8041DB28 0041A928  C0 64 00 48 */	lfs f3, 0x48(r4)
/* 8041DB2C 0041A92C  C0 84 00 4C */	lfs f4, 0x4c(r4)
/* 8041DB30 0041A930  C0 A4 00 38 */	lfs f5, 0x38(r4)
/* 8041DB34 0041A934  C0 DF 00 0C */	lfs f6, 0xc(r31)
/* 8041DB38 0041A938  C0 FF 00 10 */	lfs f7, 0x10(r31)
/* 8041DB3C 0041A93C  C1 1F 00 14 */	lfs f8, 0x14(r31)
/* 8041DB40 0041A940  4B FB 40 C5 */	bl C_MTXLightFrustum
/* 8041DB44 0041A944  48 00 00 48 */	b lbl_8041DB8C
lbl_8041DB48:
/* 8041DB48 0041A948  80 9F 00 04 */	lwz r4, 4(r31)
/* 8041DB4C 0041A94C  38 61 00 10 */	addi r3, r1, 0x10
/* 8041DB50 0041A950  C0 BF 00 0C */	lfs f5, 0xc(r31)
/* 8041DB54 0041A954  C0 24 00 40 */	lfs f1, 0x40(r4)
/* 8041DB58 0041A958  C0 44 00 44 */	lfs f2, 0x44(r4)
/* 8041DB5C 0041A95C  C0 64 00 48 */	lfs f3, 0x48(r4)
/* 8041DB60 0041A960  C0 84 00 4C */	lfs f4, 0x4c(r4)
/* 8041DB64 0041A964  C0 DF 00 10 */	lfs f6, 0x10(r31)
/* 8041DB68 0041A968  C0 FF 00 14 */	lfs f7, 0x14(r31)
/* 8041DB6C 0041A96C  C1 1F 00 18 */	lfs f8, 0x18(r31)
/* 8041DB70 0041A970  4B FB 41 F5 */	bl C_MTXLightOrtho
/* 8041DB74 0041A974  48 00 00 18 */	b lbl_8041DB8C
lbl_8041DB78:
/* 8041DB78 0041A978  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041DB7C 0041A97C  38 80 02 BB */	li r4, 0x2bb
/* 8041DB80 0041A980  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041DB84 0041A984  38 AD FC 40 */	addi r5, r13, lbl_805DCD20@sda21
/* 8041DB88 0041A988  48 00 A9 31 */	bl __assert
lbl_8041DB8C:
/* 8041DB8C 0041A98C  80 9F 00 04 */	lwz r4, 4(r31)
/* 8041DB90 0041A990  38 61 00 10 */	addi r3, r1, 0x10
/* 8041DB94 0041A994  80 BF 00 08 */	lwz r5, 8(r31)
/* 8041DB98 0041A998  38 84 00 54 */	addi r4, r4, 0x54
/* 8041DB9C 0041A99C  38 A5 00 74 */	addi r5, r5, 0x74
/* 8041DBA0 0041A9A0  4B FB 38 BD */	bl PSMTXConcat
lbl_8041DBA4:
/* 8041DBA4 0041A9A4  80 01 00 54 */	lwz r0, 0x54(r1)
/* 8041DBA8 0041A9A8  83 E1 00 4C */	lwz r31, 0x4c(r1)
/* 8041DBAC 0041A9AC  7C 08 03 A6 */	mtlr r0
/* 8041DBB0 0041A9B0  38 21 00 50 */	addi r1, r1, 0x50
/* 8041DBB4 0041A9B4  4E 80 00 20 */	blr 

.global HSD_ShadowSetViewingRect
HSD_ShadowSetViewingRect:
/* 8041DBB8 0041A9B8  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 8041DBBC 0041A9BC  7C 08 02 A6 */	mflr r0
/* 8041DBC0 0041A9C0  90 01 00 64 */	stw r0, 0x64(r1)
/* 8041DBC4 0041A9C4  DB E1 00 50 */	stfd f31, 0x50(r1)
/* 8041DBC8 0041A9C8  F3 E1 00 58 */	psq_st f31, 88(r1), 0, qr0
/* 8041DBCC 0041A9CC  DB C1 00 40 */	stfd f30, 0x40(r1)
/* 8041DBD0 0041A9D0  F3 C1 00 48 */	psq_st f30, 72(r1), 0, qr0
/* 8041DBD4 0041A9D4  DB A1 00 30 */	stfd f29, 0x30(r1)
/* 8041DBD8 0041A9D8  F3 A1 00 38 */	psq_st f29, 56(r1), 0, qr0
/* 8041DBDC 0041A9DC  DB 81 00 20 */	stfd f28, 0x20(r1)
/* 8041DBE0 0041A9E0  F3 81 00 28 */	psq_st f28, 40(r1), 0, qr0
/* 8041DBE4 0041A9E4  DB 61 00 10 */	stfd f27, 0x10(r1)
/* 8041DBE8 0041A9E8  F3 61 00 18 */	psq_st f27, 24(r1), 0, qr0
/* 8041DBEC 0041A9EC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8041DBF0 0041A9F0  7C 7F 1B 79 */	or. r31, r3, r3
/* 8041DBF4 0041A9F4  FF 60 08 90 */	fmr f27, f1
/* 8041DBF8 0041A9F8  FF C0 10 90 */	fmr f30, f2
/* 8041DBFC 0041A9FC  FF 80 18 90 */	fmr f28, f3
/* 8041DC00 0041AA00  FF A0 20 90 */	fmr f29, f4
/* 8041DC04 0041AA04  40 82 00 18 */	bne lbl_8041DC1C
/* 8041DC08 0041AA08  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041DC0C 0041AA0C  38 80 02 D2 */	li r4, 0x2d2
/* 8041DC10 0041AA10  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041DC14 0041AA14  38 AD FC 38 */	addi r5, r13, shadow@sda21
/* 8041DC18 0041AA18  48 00 A8 A1 */	bl __assert
lbl_8041DC1C:
/* 8041DC1C 0041AA1C  83 FF 00 04 */	lwz r31, 4(r31)
/* 8041DC20 0041AA20  7F E3 FB 78 */	mr r3, r31
/* 8041DC24 0041AA24  4B FE 3E 79 */	bl HSD_CObjGetEyeDistance
/* 8041DC28 0041AA28  3C 60 80 5E */	lis r3, lbl_805DC8C0@ha
/* 8041DC2C 0041AA2C  FF E0 08 90 */	fmr f31, f1
/* 8041DC30 0041AA30  C0 03 C8 C0 */	lfs f0, lbl_805DC8C0@l(r3)
/* 8041DC34 0041AA34  FC 1F 00 40 */	fcmpo cr0, f31, f0
/* 8041DC38 0041AA38  41 80 01 10 */	blt lbl_8041DD48
/* 8041DC3C 0041AA3C  7F E3 FB 78 */	mr r3, r31
/* 8041DC40 0041AA40  4B FE 52 7D */	bl HSD_CObjGetProjectionType
/* 8041DC44 0041AA44  2C 03 00 02 */	cmpwi r3, 2
/* 8041DC48 0041AA48  41 82 00 B0 */	beq lbl_8041DCF8
/* 8041DC4C 0041AA4C  40 80 00 10 */	bge lbl_8041DC5C
/* 8041DC50 0041AA50  2C 03 00 01 */	cmpwi r3, 1
/* 8041DC54 0041AA54  40 80 00 14 */	bge lbl_8041DC68
/* 8041DC58 0041AA58  48 00 00 DC */	b lbl_8041DD34
lbl_8041DC5C:
/* 8041DC5C 0041AA5C  2C 03 00 04 */	cmpwi r3, 4
/* 8041DC60 0041AA60  40 80 00 D4 */	bge lbl_8041DD34
/* 8041DC64 0041AA64  48 00 00 78 */	b lbl_8041DCDC
lbl_8041DC68:
/* 8041DC68 0041AA68  FC 00 F2 10 */	fabs f0, f30
/* 8041DC6C 0041AA6C  FC 20 DA 10 */	fabs f1, f27
/* 8041DC70 0041AA70  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041DC74 0041AA74  40 81 00 0C */	ble lbl_8041DC80
/* 8041DC78 0041AA78  FF C0 08 18 */	frsp f30, f1
/* 8041DC7C 0041AA7C  48 00 00 08 */	b lbl_8041DC84
lbl_8041DC80:
/* 8041DC80 0041AA80  FF C0 00 18 */	frsp f30, f0
lbl_8041DC84:
/* 8041DC84 0041AA84  FC 00 EA 10 */	fabs f0, f29
/* 8041DC88 0041AA88  FC 20 E2 10 */	fabs f1, f28
/* 8041DC8C 0041AA8C  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041DC90 0041AA90  40 81 00 0C */	ble lbl_8041DC9C
/* 8041DC94 0041AA94  FC 20 08 18 */	frsp f1, f1
/* 8041DC98 0041AA98  48 00 00 08 */	b lbl_8041DCA0
lbl_8041DC9C:
/* 8041DC9C 0041AA9C  FC 20 00 18 */	frsp f1, f0
lbl_8041DCA0:
/* 8041DCA0 0041AAA0  3C 80 80 5E */	lis r4, lbl_805DC8C0@ha
/* 8041DCA4 0041AAA4  7F E3 FB 78 */	mr r3, r31
/* 8041DCA8 0041AAA8  C0 04 C8 C0 */	lfs f0, lbl_805DC8C0@l(r4)
/* 8041DCAC 0041AAAC  EC 1E 00 2A */	fadds f0, f30, f0
/* 8041DCB0 0041AAB0  EC 21 00 24 */	fdivs f1, f1, f0
/* 8041DCB4 0041AAB4  4B FE 4F E1 */	bl HSD_CObjSetAspect
/* 8041DCB8 0041AAB8  FC 20 F0 90 */	fmr f1, f30
/* 8041DCBC 0041AABC  FC 40 F8 90 */	fmr f2, f31
/* 8041DCC0 0041AAC0  4B F9 F7 09 */	bl func_803BD3C8
/* 8041DCC4 0041AAC4  FC 20 08 18 */	frsp f1, f1
/* 8041DCC8 0041AAC8  C0 02 F6 D8 */	lfs f0, lbl_805E5DD8@sda21(r2)
/* 8041DCCC 0041AACC  7F E3 FB 78 */	mr r3, r31
/* 8041DCD0 0041AAD0  EC 20 00 72 */	fmuls f1, f0, f1
/* 8041DCD4 0041AAD4  4B FE 4F 7D */	bl HSD_CObjSetFov
/* 8041DCD8 0041AAD8  48 00 00 70 */	b lbl_8041DD48
lbl_8041DCDC:
/* 8041DCDC 0041AADC  FC 20 D8 90 */	fmr f1, f27
/* 8041DCE0 0041AAE0  7F E3 FB 78 */	mr r3, r31
/* 8041DCE4 0041AAE4  FC 40 F0 90 */	fmr f2, f30
/* 8041DCE8 0041AAE8  FC 60 E0 90 */	fmr f3, f28
/* 8041DCEC 0041AAEC  FC 80 E8 90 */	fmr f4, f29
/* 8041DCF0 0041AAF0  4B FE 52 19 */	bl HSD_CObjSetOrtho
/* 8041DCF4 0041AAF4  48 00 00 54 */	b lbl_8041DD48
lbl_8041DCF8:
/* 8041DCF8 0041AAF8  7F E3 FB 78 */	mr r3, r31
/* 8041DCFC 0041AAFC  4B FE 4F B9 */	bl HSD_CObjGetNear
/* 8041DD00 0041AB00  EC 81 F8 24 */	fdivs f4, f1, f31
/* 8041DD04 0041AB04  3C 60 80 5E */	lis r3, lbl_805DC8C0@ha
/* 8041DD08 0041AB08  C0 03 C8 C0 */	lfs f0, lbl_805DC8C0@l(r3)
/* 8041DD0C 0041AB0C  FC 04 00 40 */	fcmpo cr0, f4, f0
/* 8041DD10 0041AB10  40 80 00 08 */	bge lbl_8041DD18
/* 8041DD14 0041AB14  FC 80 00 90 */	fmr f4, f0
lbl_8041DD18:
/* 8041DD18 0041AB18  EC 24 06 F2 */	fmuls f1, f4, f27
/* 8041DD1C 0041AB1C  7F E3 FB 78 */	mr r3, r31
/* 8041DD20 0041AB20  EC 44 07 B2 */	fmuls f2, f4, f30
/* 8041DD24 0041AB24  EC 64 07 32 */	fmuls f3, f4, f28
/* 8041DD28 0041AB28  EC 84 07 72 */	fmuls f4, f4, f29
/* 8041DD2C 0041AB2C  4B FE 51 B9 */	bl HSD_CObjSetFrustum
/* 8041DD30 0041AB30  48 00 00 18 */	b lbl_8041DD48
lbl_8041DD34:
/* 8041DD34 0041AB34  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041DD38 0041AB38  38 80 02 FF */	li r4, 0x2ff
/* 8041DD3C 0041AB3C  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041DD40 0041AB40  38 AD FC 40 */	addi r5, r13, lbl_805DCD20@sda21
/* 8041DD44 0041AB44  48 00 A7 75 */	bl __assert
lbl_8041DD48:
/* 8041DD48 0041AB48  E3 E1 00 58 */	psq_l f31, 88(r1), 0, qr0
/* 8041DD4C 0041AB4C  CB E1 00 50 */	lfd f31, 0x50(r1)
/* 8041DD50 0041AB50  E3 C1 00 48 */	psq_l f30, 72(r1), 0, qr0
/* 8041DD54 0041AB54  CB C1 00 40 */	lfd f30, 0x40(r1)
/* 8041DD58 0041AB58  E3 A1 00 38 */	psq_l f29, 56(r1), 0, qr0
/* 8041DD5C 0041AB5C  CB A1 00 30 */	lfd f29, 0x30(r1)
/* 8041DD60 0041AB60  E3 81 00 28 */	psq_l f28, 40(r1), 0, qr0
/* 8041DD64 0041AB64  CB 81 00 20 */	lfd f28, 0x20(r1)
/* 8041DD68 0041AB68  E3 61 00 18 */	psq_l f27, 24(r1), 0, qr0
/* 8041DD6C 0041AB6C  CB 61 00 10 */	lfd f27, 0x10(r1)
/* 8041DD70 0041AB70  80 01 00 64 */	lwz r0, 0x64(r1)
/* 8041DD74 0041AB74  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8041DD78 0041AB78  7C 08 03 A6 */	mtlr r0
/* 8041DD7C 0041AB7C  38 21 00 60 */	addi r1, r1, 0x60
/* 8041DD80 0041AB80  4E 80 00 20 */	blr 

.global func_8041DD84
func_8041DD84:
/* 8041DD84 0041AB84  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8041DD88 0041AB88  7C 08 02 A6 */	mflr r0
/* 8041DD8C 0041AB8C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8041DD90 0041AB90  39 61 00 20 */	addi r11, r1, 0x20
/* 8041DD94 0041AB94  4B F8 FD C1 */	bl _savegpr_27
/* 8041DD98 0041AB98  7C 7E 1B 79 */	or. r30, r3, r3
/* 8041DD9C 0041AB9C  7C 9B 23 78 */	mr r27, r4
/* 8041DDA0 0041ABA0  7C BC 2B 78 */	mr r28, r5
/* 8041DDA4 0041ABA4  7C DD 33 78 */	mr r29, r6
/* 8041DDA8 0041ABA8  7C FF 3B 78 */	mr r31, r7
/* 8041DDAC 0041ABAC  40 82 00 18 */	bne lbl_8041DDC4
/* 8041DDB0 0041ABB0  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041DDB4 0041ABB4  38 80 03 1E */	li r4, 0x31e
/* 8041DDB8 0041ABB8  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041DDBC 0041ABBC  38 AD FC 44 */	addi r5, r13, lbl_805DCD24@sda21
/* 8041DDC0 0041ABC0  48 00 A6 F9 */	bl __assert
lbl_8041DDC4:
/* 8041DDC4 0041ABC4  88 1E 00 50 */	lbz r0, 0x50(r30)
/* 8041DDC8 0041ABC8  38 60 00 00 */	li r3, 0
/* 8041DDCC 0041ABCC  50 60 36 72 */	rlwimi r0, r3, 6, 0x19, 0x19
/* 8041DDD0 0041ABD0  7F 83 E3 78 */	mr r3, r28
/* 8041DDD4 0041ABD4  98 1E 00 50 */	stb r0, 0x50(r30)
/* 8041DDD8 0041ABD8  7F 64 DB 78 */	mr r4, r27
/* 8041DDDC 0041ABDC  38 BE 00 24 */	addi r5, r30, 0x24
/* 8041DDE0 0041ABE0  80 DB 00 00 */	lwz r6, 0(r27)
/* 8041DDE4 0041ABE4  80 1B 00 04 */	lwz r0, 4(r27)
/* 8041DDE8 0041ABE8  90 DE 00 00 */	stw r6, 0(r30)
/* 8041DDEC 0041ABEC  90 1E 00 04 */	stw r0, 4(r30)
/* 8041DDF0 0041ABF0  80 1B 00 08 */	lwz r0, 8(r27)
/* 8041DDF4 0041ABF4  90 1E 00 08 */	stw r0, 8(r30)
/* 8041DDF8 0041ABF8  4B FB 42 C5 */	bl PSVECSubtract
/* 8041DDFC 0041ABFC  34 1E 00 24 */	addic. r0, r30, 0x24
/* 8041DE00 0041AC00  41 82 00 0C */	beq lbl_8041DE0C
/* 8041DE04 0041AC04  34 1E 00 30 */	addic. r0, r30, 0x30
/* 8041DE08 0041AC08  40 82 00 0C */	bne lbl_8041DE14
lbl_8041DE0C:
/* 8041DE0C 0041AC0C  38 00 FF FF */	li r0, -1
/* 8041DE10 0041AC10  48 00 00 60 */	b lbl_8041DE70
lbl_8041DE14:
/* 8041DE14 0041AC14  C0 1E 00 24 */	lfs f0, 0x24(r30)
/* 8041DE18 0041AC18  3C 60 80 5E */	lis r3, lbl_805DC8B8@ha
/* 8041DE1C 0041AC1C  C0 23 C8 B8 */	lfs f1, lbl_805DC8B8@l(r3)
/* 8041DE20 0041AC20  FC 00 02 10 */	fabs f0, f0
/* 8041DE24 0041AC24  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8041DE28 0041AC28  4C 40 13 82 */	cror 2, 0, 2
/* 8041DE2C 0041AC2C  40 82 00 34 */	bne lbl_8041DE60
/* 8041DE30 0041AC30  C0 1E 00 28 */	lfs f0, 0x28(r30)
/* 8041DE34 0041AC34  FC 00 02 10 */	fabs f0, f0
/* 8041DE38 0041AC38  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8041DE3C 0041AC3C  4C 40 13 82 */	cror 2, 0, 2
/* 8041DE40 0041AC40  40 82 00 20 */	bne lbl_8041DE60
/* 8041DE44 0041AC44  C0 1E 00 2C */	lfs f0, 0x2c(r30)
/* 8041DE48 0041AC48  FC 00 02 10 */	fabs f0, f0
/* 8041DE4C 0041AC4C  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8041DE50 0041AC50  4C 40 13 82 */	cror 2, 0, 2
/* 8041DE54 0041AC54  40 82 00 0C */	bne lbl_8041DE60
/* 8041DE58 0041AC58  38 00 FF FF */	li r0, -1
/* 8041DE5C 0041AC5C  48 00 00 14 */	b lbl_8041DE70
lbl_8041DE60:
/* 8041DE60 0041AC60  38 7E 00 24 */	addi r3, r30, 0x24
/* 8041DE64 0041AC64  38 9E 00 30 */	addi r4, r30, 0x30
/* 8041DE68 0041AC68  4B FB 42 95 */	bl PSVECNormalize
/* 8041DE6C 0041AC6C  38 00 00 00 */	li r0, 0
lbl_8041DE70:
/* 8041DE70 0041AC70  2C 00 00 00 */	cmpwi r0, 0
/* 8041DE74 0041AC74  40 80 00 18 */	bge lbl_8041DE8C
/* 8041DE78 0041AC78  88 1E 00 50 */	lbz r0, 0x50(r30)
/* 8041DE7C 0041AC7C  38 60 00 01 */	li r3, 1
/* 8041DE80 0041AC80  50 60 36 72 */	rlwimi r0, r3, 6, 0x19, 0x19
/* 8041DE84 0041AC84  98 1E 00 50 */	stb r0, 0x50(r30)
/* 8041DE88 0041AC88  48 00 00 F8 */	b lbl_8041DF80
lbl_8041DE8C:
/* 8041DE8C 0041AC8C  7F A4 EB 78 */	mr r4, r29
/* 8041DE90 0041AC90  38 7E 00 30 */	addi r3, r30, 0x30
/* 8041DE94 0041AC94  38 BE 00 18 */	addi r5, r30, 0x18
/* 8041DE98 0041AC98  4B FB 43 25 */	bl PSVECCrossProduct
/* 8041DE9C 0041AC9C  34 1E 00 18 */	addic. r0, r30, 0x18
/* 8041DEA0 0041ACA0  41 82 00 0C */	beq lbl_8041DEAC
/* 8041DEA4 0041ACA4  34 1E 00 18 */	addic. r0, r30, 0x18
/* 8041DEA8 0041ACA8  40 82 00 0C */	bne lbl_8041DEB4
lbl_8041DEAC:
/* 8041DEAC 0041ACAC  38 00 FF FF */	li r0, -1
/* 8041DEB0 0041ACB0  48 00 00 60 */	b lbl_8041DF10
lbl_8041DEB4:
/* 8041DEB4 0041ACB4  C0 1E 00 18 */	lfs f0, 0x18(r30)
/* 8041DEB8 0041ACB8  3C 60 80 5E */	lis r3, lbl_805DC8B8@ha
/* 8041DEBC 0041ACBC  C0 23 C8 B8 */	lfs f1, lbl_805DC8B8@l(r3)
/* 8041DEC0 0041ACC0  FC 00 02 10 */	fabs f0, f0
/* 8041DEC4 0041ACC4  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8041DEC8 0041ACC8  4C 40 13 82 */	cror 2, 0, 2
/* 8041DECC 0041ACCC  40 82 00 34 */	bne lbl_8041DF00
/* 8041DED0 0041ACD0  C0 1E 00 1C */	lfs f0, 0x1c(r30)
/* 8041DED4 0041ACD4  FC 00 02 10 */	fabs f0, f0
/* 8041DED8 0041ACD8  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8041DEDC 0041ACDC  4C 40 13 82 */	cror 2, 0, 2
/* 8041DEE0 0041ACE0  40 82 00 20 */	bne lbl_8041DF00
/* 8041DEE4 0041ACE4  C0 1E 00 20 */	lfs f0, 0x20(r30)
/* 8041DEE8 0041ACE8  FC 00 02 10 */	fabs f0, f0
/* 8041DEEC 0041ACEC  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8041DEF0 0041ACF0  4C 40 13 82 */	cror 2, 0, 2
/* 8041DEF4 0041ACF4  40 82 00 0C */	bne lbl_8041DF00
/* 8041DEF8 0041ACF8  38 00 FF FF */	li r0, -1
/* 8041DEFC 0041ACFC  48 00 00 14 */	b lbl_8041DF10
lbl_8041DF00:
/* 8041DF00 0041AD00  38 7E 00 18 */	addi r3, r30, 0x18
/* 8041DF04 0041AD04  7C 64 1B 78 */	mr r4, r3
/* 8041DF08 0041AD08  4B FB 41 F5 */	bl PSVECNormalize
/* 8041DF0C 0041AD0C  38 00 00 00 */	li r0, 0
lbl_8041DF10:
/* 8041DF10 0041AD10  2C 00 00 00 */	cmpwi r0, 0
/* 8041DF14 0041AD14  40 80 00 1C */	bge lbl_8041DF30
/* 8041DF18 0041AD18  38 7E 00 30 */	addi r3, r30, 0x30
/* 8041DF1C 0041AD1C  38 9E 00 18 */	addi r4, r30, 0x18
/* 8041DF20 0041AD20  4B FF 9B D5 */	bl func_80417AF4
/* 8041DF24 0041AD24  38 7E 00 18 */	addi r3, r30, 0x18
/* 8041DF28 0041AD28  7C 64 1B 78 */	mr r4, r3
/* 8041DF2C 0041AD2C  4B FB 41 D1 */	bl PSVECNormalize
lbl_8041DF30:
/* 8041DF30 0041AD30  38 7E 00 18 */	addi r3, r30, 0x18
/* 8041DF34 0041AD34  38 9E 00 30 */	addi r4, r30, 0x30
/* 8041DF38 0041AD38  38 BE 00 0C */	addi r5, r30, 0xc
/* 8041DF3C 0041AD3C  4B FB 42 81 */	bl PSVECCrossProduct
/* 8041DF40 0041AD40  38 7E 00 24 */	addi r3, r30, 0x24
/* 8041DF44 0041AD44  4B FB 42 15 */	bl PSVECMag
/* 8041DF48 0041AD48  D0 3E 00 3C */	stfs f1, 0x3c(r30)
/* 8041DF4C 0041AD4C  7C 1F 00 D0 */	neg r0, r31
/* 8041DF50 0041AD50  C0 22 F6 DC */	lfs f1, lbl_805E5DDC@sda21(r2)
/* 8041DF54 0041AD54  7C 00 FB 78 */	or r0, r0, r31
/* 8041DF58 0041AD58  54 00 0F FE */	srwi r0, r0, 0x1f
/* 8041DF5C 0041AD5C  C0 02 F6 E0 */	lfs f0, lbl_805E5DE0@sda21(r2)
/* 8041DF60 0041AD60  D0 3E 00 4C */	stfs f1, 0x4c(r30)
/* 8041DF64 0041AD64  7C 03 07 74 */	extsb r3, r0
/* 8041DF68 0041AD68  D0 3E 00 40 */	stfs f1, 0x40(r30)
/* 8041DF6C 0041AD6C  D0 1E 00 48 */	stfs f0, 0x48(r30)
/* 8041DF70 0041AD70  D0 1E 00 44 */	stfs f0, 0x44(r30)
/* 8041DF74 0041AD74  88 1E 00 50 */	lbz r0, 0x50(r30)
/* 8041DF78 0041AD78  50 60 3E 30 */	rlwimi r0, r3, 7, 0x18, 0x18
/* 8041DF7C 0041AD7C  98 1E 00 50 */	stb r0, 0x50(r30)
lbl_8041DF80:
/* 8041DF80 0041AD80  39 61 00 20 */	addi r11, r1, 0x20
/* 8041DF84 0041AD84  4B F8 FC 1D */	bl _restgpr_27
/* 8041DF88 0041AD88  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8041DF8C 0041AD8C  7C 08 03 A6 */	mtlr r0
/* 8041DF90 0041AD90  38 21 00 20 */	addi r1, r1, 0x20
/* 8041DF94 0041AD94  4E 80 00 20 */	blr 

.global func_8041DF98
func_8041DF98:
/* 8041DF98 0041AD98  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8041DF9C 0041AD9C  7C 08 02 A6 */	mflr r0
/* 8041DFA0 0041ADA0  90 01 00 14 */	stw r0, 0x14(r1)
/* 8041DFA4 0041ADA4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8041DFA8 0041ADA8  7C 7F 1B 79 */	or. r31, r3, r3
/* 8041DFAC 0041ADAC  40 82 00 18 */	bne lbl_8041DFC4
/* 8041DFB0 0041ADB0  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041DFB4 0041ADB4  38 80 03 3C */	li r4, 0x33c
/* 8041DFB8 0041ADB8  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041DFBC 0041ADBC  38 AD FC 44 */	addi r5, r13, lbl_805DCD24@sda21
/* 8041DFC0 0041ADC0  48 00 A4 F9 */	bl __assert
lbl_8041DFC4:
/* 8041DFC4 0041ADC4  88 1F 00 50 */	lbz r0, 0x50(r31)
/* 8041DFC8 0041ADC8  38 60 00 00 */	li r3, 0
/* 8041DFCC 0041ADCC  54 00 C8 02 */	rlwinm r0, r0, 0x19, 0, 1
/* 8041DFD0 0041ADD0  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 8041DFD4 0041ADD4  7C 00 07 75 */	extsb. r0, r0
/* 8041DFD8 0041ADD8  40 82 00 28 */	bne lbl_8041E000
/* 8041DFDC 0041ADDC  C0 3F 00 40 */	lfs f1, 0x40(r31)
/* 8041DFE0 0041ADE0  C0 1F 00 44 */	lfs f0, 0x44(r31)
/* 8041DFE4 0041ADE4  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041DFE8 0041ADE8  40 81 00 18 */	ble lbl_8041E000
/* 8041DFEC 0041ADEC  C0 3F 00 4C */	lfs f1, 0x4c(r31)
/* 8041DFF0 0041ADF0  C0 1F 00 48 */	lfs f0, 0x48(r31)
/* 8041DFF4 0041ADF4  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041DFF8 0041ADF8  40 81 00 08 */	ble lbl_8041E000
/* 8041DFFC 0041ADFC  38 60 00 01 */	li r3, 1
lbl_8041E000:
/* 8041E000 0041AE00  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8041E004 0041AE04  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8041E008 0041AE08  7C 08 03 A6 */	mtlr r0
/* 8041E00C 0041AE0C  38 21 00 10 */	addi r1, r1, 0x10
/* 8041E010 0041AE10  4E 80 00 20 */	blr 

.global Shadows_SmoothEdges_Math
Shadows_SmoothEdges_Math:
/* 8041E014 0041AE14  94 21 FF 60 */	stwu r1, -0xa0(r1)
/* 8041E018 0041AE18  7C 08 02 A6 */	mflr r0
/* 8041E01C 0041AE1C  90 01 00 A4 */	stw r0, 0xa4(r1)
/* 8041E020 0041AE20  DB E1 00 90 */	stfd f31, 0x90(r1)
/* 8041E024 0041AE24  F3 E1 00 98 */	psq_st f31, 152(r1), 0, qr0
/* 8041E028 0041AE28  DB C1 00 80 */	stfd f30, 0x80(r1)
/* 8041E02C 0041AE2C  F3 C1 00 88 */	psq_st f30, 136(r1), 0, qr0
/* 8041E030 0041AE30  DB A1 00 70 */	stfd f29, 0x70(r1)
/* 8041E034 0041AE34  F3 A1 00 78 */	psq_st f29, 120(r1), 0, qr0
/* 8041E038 0041AE38  DB 81 00 60 */	stfd f28, 0x60(r1)
/* 8041E03C 0041AE3C  F3 81 00 68 */	psq_st f28, 104(r1), 0, qr0
/* 8041E040 0041AE40  DB 61 00 50 */	stfd f27, 0x50(r1)
/* 8041E044 0041AE44  F3 61 00 58 */	psq_st f27, 88(r1), 0, qr0
/* 8041E048 0041AE48  DB 41 00 40 */	stfd f26, 0x40(r1)
/* 8041E04C 0041AE4C  F3 41 00 48 */	psq_st f26, 72(r1), 0, qr0
/* 8041E050 0041AE50  93 E1 00 3C */	stw r31, 0x3c(r1)
/* 8041E054 0041AE54  93 C1 00 38 */	stw r30, 0x38(r1)
/* 8041E058 0041AE58  7C 7E 1B 79 */	or. r30, r3, r3
/* 8041E05C 0041AE5C  FF 40 08 90 */	fmr f26, f1
/* 8041E060 0041AE60  FF 60 10 90 */	fmr f27, f2
/* 8041E064 0041AE64  7C 9F 23 78 */	mr r31, r4
/* 8041E068 0041AE68  FF 80 18 90 */	fmr f28, f3
/* 8041E06C 0041AE6C  FF A0 20 90 */	fmr f29, f4
/* 8041E070 0041AE70  40 82 00 18 */	bne lbl_8041E088
/* 8041E074 0041AE74  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041E078 0041AE78  38 80 03 62 */	li r4, 0x362
/* 8041E07C 0041AE7C  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041E080 0041AE80  38 AD FC 44 */	addi r5, r13, lbl_805DCD24@sda21
/* 8041E084 0041AE84  48 00 A4 35 */	bl __assert
lbl_8041E088:
/* 8041E088 0041AE88  28 1F 00 00 */	cmplwi r31, 0
/* 8041E08C 0041AE8C  40 82 00 1C */	bne lbl_8041E0A8
/* 8041E090 0041AE90  3C 60 80 50 */	lis r3, lbl_80504528@ha
/* 8041E094 0041AE94  3C A0 80 50 */	lis r5, lbl_805046A8@ha
/* 8041E098 0041AE98  38 63 45 28 */	addi r3, r3, lbl_80504528@l
/* 8041E09C 0041AE9C  38 80 03 63 */	li r4, 0x363
/* 8041E0A0 0041AEA0  38 A5 46 A8 */	addi r5, r5, lbl_805046A8@l
/* 8041E0A4 0041AEA4  48 00 A4 15 */	bl __assert
lbl_8041E0A8:
/* 8041E0A8 0041AEA8  88 1E 00 50 */	lbz r0, 0x50(r30)
/* 8041E0AC 0041AEAC  54 00 C8 02 */	rlwinm r0, r0, 0x19, 0, 1
/* 8041E0B0 0041AEB0  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 8041E0B4 0041AEB4  7C 00 07 75 */	extsb. r0, r0
/* 8041E0B8 0041AEB8  40 82 01 24 */	bne lbl_8041E1DC
/* 8041E0BC 0041AEBC  7F E3 FB 78 */	mr r3, r31
/* 8041E0C0 0041AEC0  7F C4 F3 78 */	mr r4, r30
/* 8041E0C4 0041AEC4  38 A1 00 20 */	addi r5, r1, 0x20
/* 8041E0C8 0041AEC8  4B FB 3F F5 */	bl PSVECSubtract
/* 8041E0CC 0041AECC  38 61 00 20 */	addi r3, r1, 0x20
/* 8041E0D0 0041AED0  38 9E 00 30 */	addi r4, r30, 0x30
/* 8041E0D4 0041AED4  4B FB 40 C9 */	bl PSVECDotProduct
/* 8041E0D8 0041AED8  88 1E 00 50 */	lbz r0, 0x50(r30)
/* 8041E0DC 0041AEDC  54 00 C0 02 */	rlwinm r0, r0, 0x18, 0, 1
/* 8041E0E0 0041AEE0  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 8041E0E4 0041AEE4  7C 00 07 75 */	extsb. r0, r0
/* 8041E0E8 0041AEE8  41 82 00 6C */	beq lbl_8041E154
/* 8041E0EC 0041AEEC  C0 02 F6 C0 */	lfs f0, lbl_805E5DC0@sda21(r2)
/* 8041E0F0 0041AEF0  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041E0F4 0041AEF4  4C 40 13 82 */	cror 2, 0, 2
/* 8041E0F8 0041AEF8  41 82 00 E4 */	beq lbl_8041E1DC
/* 8041E0FC 0041AEFC  C0 1E 00 3C */	lfs f0, 0x3c(r30)
/* 8041E100 0041AF00  38 61 00 20 */	addi r3, r1, 0x20
/* 8041E104 0041AF04  7C 64 1B 78 */	mr r4, r3
/* 8041E108 0041AF08  EF C0 08 24 */	fdivs f30, f0, f1
/* 8041E10C 0041AF0C  FC 20 F0 90 */	fmr f1, f30
/* 8041E110 0041AF10  4B FB 3F D1 */	bl PSVECScale
/* 8041E114 0041AF14  38 61 00 20 */	addi r3, r1, 0x20
/* 8041E118 0041AF18  38 9E 00 24 */	addi r4, r30, 0x24
/* 8041E11C 0041AF1C  38 A1 00 14 */	addi r5, r1, 0x14
/* 8041E120 0041AF20  4B FB 3F 9D */	bl PSVECSubtract
/* 8041E124 0041AF24  38 7E 00 18 */	addi r3, r30, 0x18
/* 8041E128 0041AF28  38 81 00 14 */	addi r4, r1, 0x14
/* 8041E12C 0041AF2C  4B FB 40 71 */	bl PSVECDotProduct
/* 8041E130 0041AF30  FF E0 08 90 */	fmr f31, f1
/* 8041E134 0041AF34  38 7E 00 0C */	addi r3, r30, 0xc
/* 8041E138 0041AF38  38 81 00 14 */	addi r4, r1, 0x14
/* 8041E13C 0041AF3C  4B FB 40 61 */	bl PSVECDotProduct
/* 8041E140 0041AF40  EF 5A 07 B2 */	fmuls f26, f26, f30
/* 8041E144 0041AF44  EF 7B 07 B2 */	fmuls f27, f27, f30
/* 8041E148 0041AF48  EF 9C 07 B2 */	fmuls f28, f28, f30
/* 8041E14C 0041AF4C  EF BD 07 B2 */	fmuls f29, f29, f30
/* 8041E150 0041AF50  48 00 00 3C */	b lbl_8041E18C
lbl_8041E154:
/* 8041E154 0041AF54  38 7E 00 30 */	addi r3, r30, 0x30
/* 8041E158 0041AF58  38 81 00 08 */	addi r4, r1, 8
/* 8041E15C 0041AF5C  4B FB 3F 85 */	bl PSVECScale
/* 8041E160 0041AF60  38 61 00 20 */	addi r3, r1, 0x20
/* 8041E164 0041AF64  38 81 00 08 */	addi r4, r1, 8
/* 8041E168 0041AF68  38 A1 00 14 */	addi r5, r1, 0x14
/* 8041E16C 0041AF6C  4B FB 3F 51 */	bl PSVECSubtract
/* 8041E170 0041AF70  38 7E 00 18 */	addi r3, r30, 0x18
/* 8041E174 0041AF74  38 81 00 14 */	addi r4, r1, 0x14
/* 8041E178 0041AF78  4B FB 40 25 */	bl PSVECDotProduct
/* 8041E17C 0041AF7C  FF E0 08 90 */	fmr f31, f1
/* 8041E180 0041AF80  38 7E 00 0C */	addi r3, r30, 0xc
/* 8041E184 0041AF84  38 81 00 14 */	addi r4, r1, 0x14
/* 8041E188 0041AF88  4B FB 40 15 */	bl PSVECDotProduct
lbl_8041E18C:
/* 8041E18C 0041AF8C  EC 5F E8 2A */	fadds f2, f31, f29
/* 8041E190 0041AF90  C0 1E 00 4C */	lfs f0, 0x4c(r30)
/* 8041E194 0041AF94  FC 02 00 40 */	fcmpo cr0, f2, f0
/* 8041E198 0041AF98  40 81 00 08 */	ble lbl_8041E1A0
/* 8041E19C 0041AF9C  D0 5E 00 4C */	stfs f2, 0x4c(r30)
lbl_8041E1A0:
/* 8041E1A0 0041AFA0  EC 5F E0 2A */	fadds f2, f31, f28
/* 8041E1A4 0041AFA4  C0 1E 00 48 */	lfs f0, 0x48(r30)
/* 8041E1A8 0041AFA8  FC 02 00 40 */	fcmpo cr0, f2, f0
/* 8041E1AC 0041AFAC  40 80 00 08 */	bge lbl_8041E1B4
/* 8041E1B0 0041AFB0  D0 5E 00 48 */	stfs f2, 0x48(r30)
lbl_8041E1B4:
/* 8041E1B4 0041AFB4  EC 41 D0 2A */	fadds f2, f1, f26
/* 8041E1B8 0041AFB8  C0 1E 00 40 */	lfs f0, 0x40(r30)
/* 8041E1BC 0041AFBC  FC 02 00 40 */	fcmpo cr0, f2, f0
/* 8041E1C0 0041AFC0  40 81 00 08 */	ble lbl_8041E1C8
/* 8041E1C4 0041AFC4  D0 5E 00 40 */	stfs f2, 0x40(r30)
lbl_8041E1C8:
/* 8041E1C8 0041AFC8  EC 21 D8 2A */	fadds f1, f1, f27
/* 8041E1CC 0041AFCC  C0 1E 00 44 */	lfs f0, 0x44(r30)
/* 8041E1D0 0041AFD0  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8041E1D4 0041AFD4  40 80 00 08 */	bge lbl_8041E1DC
/* 8041E1D8 0041AFD8  D0 3E 00 44 */	stfs f1, 0x44(r30)
lbl_8041E1DC:
/* 8041E1DC 0041AFDC  E3 E1 00 98 */	psq_l f31, 152(r1), 0, qr0
/* 8041E1E0 0041AFE0  CB E1 00 90 */	lfd f31, 0x90(r1)
/* 8041E1E4 0041AFE4  E3 C1 00 88 */	psq_l f30, 136(r1), 0, qr0
/* 8041E1E8 0041AFE8  CB C1 00 80 */	lfd f30, 0x80(r1)
/* 8041E1EC 0041AFEC  E3 A1 00 78 */	psq_l f29, 120(r1), 0, qr0
/* 8041E1F0 0041AFF0  CB A1 00 70 */	lfd f29, 0x70(r1)
/* 8041E1F4 0041AFF4  E3 81 00 68 */	psq_l f28, 104(r1), 0, qr0
/* 8041E1F8 0041AFF8  CB 81 00 60 */	lfd f28, 0x60(r1)
/* 8041E1FC 0041AFFC  E3 61 00 58 */	psq_l f27, 88(r1), 0, qr0
/* 8041E200 0041B000  CB 61 00 50 */	lfd f27, 0x50(r1)
/* 8041E204 0041B004  E3 41 00 48 */	psq_l f26, 72(r1), 0, qr0
/* 8041E208 0041B008  CB 41 00 40 */	lfd f26, 0x40(r1)
/* 8041E20C 0041B00C  83 E1 00 3C */	lwz r31, 0x3c(r1)
/* 8041E210 0041B010  80 01 00 A4 */	lwz r0, 0xa4(r1)
/* 8041E214 0041B014  83 C1 00 38 */	lwz r30, 0x38(r1)
/* 8041E218 0041B018  7C 08 03 A6 */	mtlr r0
/* 8041E21C 0041B01C  38 21 00 A0 */	addi r1, r1, 0xa0
/* 8041E220 0041B020  4E 80 00 20 */	blr 


.section .data
    .balign 8
.global lbl_80504528
lbl_80504528:
	.4byte 0x73686164
	.4byte 0x6F772E63
	.4byte 0x00000000
	.4byte 0x77696474
	.4byte 0x68203E20
	.4byte 0x30000000
	.4byte 0x68656967
	.4byte 0x6874203E
	.4byte 0x20300000
	.4byte 0x73697A65
	.4byte 0x203E2030
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000004
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x000000FF
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000002
	.4byte 0x00000002
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000001
	.4byte 0x00000000
	.4byte 0x000000FF
	.4byte 0x000000FF
	.4byte 0x00000004
	.4byte 0x00000000
	.4byte 0x0000000F
	.4byte 0x0000000F
	.4byte 0x0000000F
	.4byte 0x0000000A
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x01000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000007
	.4byte 0x00000007
	.4byte 0x00000007
	.4byte 0x00000005
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x01000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x09000000
	.4byte 0x0004050F
	.4byte 0x07070007
	.4byte 0x73686164
	.4byte 0x6F772D3E
	.4byte 0x63616D65
	.4byte 0x72610000
	.4byte 0x73686164
	.4byte 0x6F772D3E
	.4byte 0x74657874
	.4byte 0x75726500
	.4byte 0x73686164
	.4byte 0x6F772D3E
	.4byte 0x74657874
	.4byte 0x7572652D
	.4byte 0x3E696D61
	.4byte 0x67656465
	.4byte 0x73630000
.global lbl_80504644
lbl_80504644:
	.4byte 0x6F626A65
	.4byte 0x63742E68
	.4byte 0x00000000
.global lbl_80504650
lbl_80504650:
	.4byte 0x4853445F
	.4byte 0x4F424A28
	.4byte 0x6F292D3E
	.4byte 0x7265665F
	.4byte 0x636F756E
	.4byte 0x7420213D
	.4byte 0x20485344
	.4byte 0x5F4F424A
	.4byte 0x5F4E4F52
	.4byte 0x45460000
.global lbl_80504678
lbl_80504678:
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x00000000
	.4byte 0x3F800000
.global lbl_805046A8
lbl_805046A8:
	.4byte 0x706F7369
	.4byte 0x74696F6E
	.4byte 0x00000000
	.4byte 0x61203E20
	.4byte 0x302E3046
	.4byte 0x00000000
